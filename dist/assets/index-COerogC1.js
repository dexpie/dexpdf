const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor_jszip-CPzOg1c2.js","assets/vendor-CVWXYixL.js","assets/vendor_jspdf-wCtQMdy0.js","assets/vendor_tesseract-D6cijTgP.js","assets/vendor_pptxgenjs-CwEE9IK9.js","assets/vendor_pdf_lib-HBj0vpGH.js","assets/vendor_pdfjs-DCADuy2C.js"])))=>i.map(i=>d[i]);
import{j as e,r as s,R as ne,P as Re,k as Be,l as Ee,m as Ue,n as Te,B as je,o as Me,C as Ae,T as Le,q as $e}from"./vendor-CVWXYixL.js";import{a as te}from"./vendor_pdfjs-DCADuy2C.js";import{_ as de,E as We}from"./vendor_jspdf-wCtQMdy0.js";import{PDFDocument as ie,StandardFonts as we,rgb as me}from"./vendor_pdf_lib-HBj0vpGH.js";import{J as ve}from"./vendor_jszip-CPzOg1c2.js";import{P as Ie}from"./vendor_papaparse-Drk_N0hV.js";import ke from"./vendor_html2canvas-CBrSDip1.js";(function(){const v=document.createElement("link").relList;if(v&&v.supports&&v.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))y(n);new MutationObserver(n=>{for(const E of n)if(E.type==="childList")for(const d of E.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&y(d)}).observe(document,{childList:!0,subtree:!0});function a(n){const E={};return n.integrity&&(E.integrity=n.integrity),n.referrerPolicy&&(E.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?E.credentials="include":n.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function y(n){if(n.ep)return;n.ep=!0;const E=a(n);fetch(n.href,E)}})();window.addEventListener("open-tool",t=>{const v=t.detail;localStorage.setItem("lastTool",v);const a=new URL(window.location);a.searchParams.set("tool",v),window.history.pushState({},"",a),console.log("Opening tool:",v)});function ce({value:t,onChange:v,disabled:a=!1,placeholder:y="output",label:n="Nama File Output (opsional):",helperText:E="Kosongkan untuk menggunakan nama default. Ekstensi .pdf akan ditambahkan otomatis."}){return e.jsxs("div",{style:{marginTop:12},children:[e.jsx("label",{style:{display:"block",marginBottom:4,fontWeight:500,color:"#374151"},children:n}),e.jsx("input",{type:"text",value:t,onChange:v,placeholder:y,disabled:a,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14,outline:"none",transition:"border-color 0.2s"},onFocus:d=>d.target.style.borderColor="#3b82f6",onBlur:d=>d.target.style.borderColor="#d1d5db"}),e.jsx("div",{style:{fontSize:12,color:"#6b7280",marginTop:4},children:E})]})}function le(t,v="output",a=".pdf"){const y=(t||v).trim(),n=a.startsWith(".")?a:"."+a;return y.endsWith(n)?y:y+n}function pe(t,v=""){if(!t||!t.name)return v||"output";const a=t.name.replace(/\.\w+$/i,"");return v?a+v:a}function ue({toolName:t="Process",processFile:v,acceptedTypes:a=".pdf",outputExtension:y=".pdf",maxFiles:n=100,showPreview:E=!1,customOptions:d=null,onComplete:S=null}){const[x,R]=s.useState([]),[O,M]=s.useState(!1),[w,B]=s.useState([]),[k,C]=s.useState([]),[c,m]=s.useState(0),[u,f]=s.useState(!1),[p,F]=s.useState(""),g=s.useRef(null),i=s.useRef(!1),r=_=>{const N=Array.from(_);if(N.length+x.length>n){F(`Maximum ${n} files allowed`);return}R(h=>[...h,...N]),B(h=>[...h,...N.map(()=>({status:"pending",progress:0,error:null}))]),F("")},o=_=>{R(N=>N.filter((h,j)=>j!==_)),B(N=>N.filter((h,j)=>j!==_)),C(N=>N.filter((h,j)=>j!==_))},l=async()=>{if(x.length===0){F("Please add files first");return}M(!0),f(!1),i.current=!1;const _=[];for(let N=0;N<x.length;N++){for(;i.current;)await new Promise(h=>setTimeout(h,100));try{B(j=>{const L=[...j];return L[N]={status:"processing",progress:0,error:null},L});const h=await v(x[N],N,j=>{B(L=>{const A=[...L];return A[N]={...A[N],progress:j},A})});_[N]=h,C(_),B(j=>{const L=[...j];return L[N]={status:"completed",progress:100,error:null},L})}catch(h){console.error(`Error processing file ${N}:`,h),B(j=>{const L=[...j];return L[N]={status:"error",progress:0,error:h.message||"Processing failed"},L})}m(Math.round((N+1)/x.length*100))}M(!1),S&&S(_.filter(Boolean))},b=()=>{f(_=>!_),i.current=!i.current},D=_=>{if(!k[_])return;const N=k[_],h=URL.createObjectURL(N),j=document.createElement("a");j.href=h,j.download=x[_].name.replace(/\.[^/.]+$/,"")+"_processed"+y,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(h)},P=async()=>{if(k.length!==0)try{const _=(await de(async()=>{const{default:L}=await import("./vendor_jszip-CPzOg1c2.js").then(A=>A.j);return{default:L}},__vite__mapDeps([0,1]))).default,{saveAs:N}=await de(async()=>{const{saveAs:L}=await import("./vendor-CVWXYixL.js").then(A=>A.F);return{saveAs:L}},__vite__mapDeps([1,0])),h=new _;k.forEach((L,A)=>{if(L){const K=x[A].name.replace(/\.[^/.]+$/,"")+"_processed"+y;h.file(K,L)}});const j=await h.generateAsync({type:"blob"});N(j,`${t.toLowerCase().replace(/\s/g,"_")}_batch_${Date.now()}.zip`)}catch(_){console.error("Error creating ZIP:",_),F("Failed to create ZIP file")}},W=_=>{_.preventDefault(),r(_.dataTransfer.files)},I=_=>{_.preventDefault()},$=w.filter(_=>_.status==="completed").length,G=w.filter(_=>_.status==="error").length,X=w.filter(_=>_.status==="pending").length;return e.jsxs("div",{className:"batch-processor",children:[e.jsxs("div",{className:"batch-header",children:[e.jsxs("h3",{children:["ðŸ”„ Batch ",t]}),e.jsxs("p",{children:["Process up to ",n," files at once"]})]}),p&&e.jsxs("div",{className:"batch-error",children:["âš ï¸ ",p]}),e.jsxs("div",{className:"batch-upload-zone",onDrop:W,onDragOver:I,onClick:()=>{var _;return(_=g.current)==null?void 0:_.click()},children:[e.jsx("input",{ref:g,type:"file",multiple:!0,accept:a,onChange:_=>r(_.target.files),style:{display:"none"}}),e.jsx("div",{className:"upload-icon",children:"ðŸ“"}),e.jsx("div",{className:"upload-text",children:"Drop files here or click to browse"}),e.jsxs("div",{className:"upload-hint",children:["Supports: ",a," â€¢ Max ",n," files"]})]}),d&&e.jsx("div",{className:"batch-options",children:d}),x.length>0&&e.jsxs("div",{className:"batch-files",children:[e.jsxs("div",{className:"batch-files-header",children:[e.jsxs("h4",{children:["ðŸ“‹ Files (",x.length,")"]}),!O&&e.jsx("button",{className:"btn-clear",onClick:()=>{R([]),B([]),C([])},children:"Clear All"})]}),e.jsx("div",{className:"batch-files-list",children:x.map((_,N)=>{var h,j,L,A,K,J;return e.jsxs("div",{className:"batch-file-item",children:[e.jsxs("div",{className:"file-info",children:[e.jsx("div",{className:"file-icon",children:((h=w[N])==null?void 0:h.status)==="completed"?"âœ…":((j=w[N])==null?void 0:j.status)==="error"?"âŒ":((L=w[N])==null?void 0:L.status)==="processing"?"â³":"ðŸ“„"}),e.jsxs("div",{className:"file-details",children:[e.jsx("div",{className:"file-name",children:_.name}),e.jsxs("div",{className:"file-size",children:[(_.size/1024).toFixed(1)," KB"]})]})]}),((A=w[N])==null?void 0:A.status)==="processing"&&e.jsx("div",{className:"file-progress",children:e.jsx("div",{className:"file-progress-bar",style:{width:`${w[N].progress}%`}})}),((K=w[N])==null?void 0:K.status)==="error"&&e.jsx("div",{className:"file-error",children:w[N].error}),e.jsxs("div",{className:"file-actions",children:[((J=w[N])==null?void 0:J.status)==="completed"&&e.jsx("button",{className:"btn-download-small",onClick:()=>D(N),children:"ðŸ’¾"}),!O&&e.jsx("button",{className:"btn-remove",onClick:()=>o(N),children:"ðŸ—‘ï¸"})]})]},N)})})]}),O&&e.jsxs("div",{className:"batch-global-progress",children:[e.jsxs("div",{className:"progress-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-label",children:"Completed:"}),e.jsxs("span",{className:"stat-value",children:[$,"/",x.length]})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-label",children:"Errors:"}),e.jsx("span",{className:"stat-value error",children:G})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-label",children:"Pending:"}),e.jsx("span",{className:"stat-value",children:X})]})]}),e.jsx("div",{className:"global-progress-bar",children:e.jsx("div",{className:"global-progress-fill",style:{width:`${c}%`}})}),e.jsxs("div",{className:"global-progress-text",children:[c,"% complete"]})]}),e.jsxs("div",{className:"batch-actions",children:[!O&&x.length>0&&e.jsxs("button",{className:"btn-primary-batch",onClick:l,children:["ðŸš€ Process All (",x.length," files)"]}),O&&e.jsx("button",{className:"btn-pause",onClick:b,children:u?"â–¶ï¸ Resume":"â¸ï¸ Pause"}),$>0&&!O&&e.jsx(e.Fragment,{children:e.jsxs("button",{className:"btn-download-all",onClick:P,children:["ðŸ“¦ Download All as ZIP (",$," files)"]})})]})]})}try{te.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${te.version}/pdf.worker.min.js`}catch{}function Ge(){const[t,v]=s.useState(!1),[a,y]=s.useState(null),[n,E]=s.useState(!1),[d,S]=s.useState(!1),[x,R]=s.useState(!1),[O,M]=s.useState(""),[w,B]=s.useState(""),[k,C]=s.useState(""),c=ne.useRef(null),m=ne.useRef(null);ne.useEffect(()=>{O&&c.current&&c.current.focus()},[O]),ne.useEffect(()=>{w&&m.current&&m.current.focus()},[w]);async function u(o){M(""),B("");const l=o.target.files[0];if(l){if(!l.name.toLowerCase().endsWith(".pdf")){M("File harus PDF.");return}if(l.size>50*1024*1024){M("Ukuran file terlalu besar (maks 50MB).");return}y(l),C(pe(l))}}function f(o){o.preventDefault(),n||S(!0)}function p(o){o.preventDefault(),n||(o.dataTransfer.dropEffect="copy")}function F(o){o.preventDefault(),n||S(!1)}async function g(o){var b,D;if(o.preventDefault(),n)return;S(!1);const l=(D=(b=o.dataTransfer)==null?void 0:b.files)==null?void 0:D[0];l&&(y(l),R(!0),setTimeout(()=>R(!1),1500))}async function i(){if(!a){M("Pilih file PDF terlebih dahulu.");return}M(""),B(""),E(!0);try{const o=await a.arrayBuffer(),l=await te.getDocument({data:o}).promise;let b="";for(let I=1;I<=l.numPages;I++){const X=(await(await l.getPage(I)).getTextContent()).items.map(_=>_.str);b+=`
--- Page ${I} ---
`+X.join(" ")+`
`}const D=new Blob([b],{type:"text/plain"}),P=URL.createObjectURL(D),W=document.createElement("a");W.href=P,W.download=le(k,a.name.replace(/\.pdf$/i,""),".txt"),W.click(),URL.revokeObjectURL(P),B("Berhasil! Teks berhasil diekstrak dan diunduh.")}catch(o){console.error(o),M("Gagal: "+(o.message||o))}finally{E(!1)}}const r=async(o,l,b)=>{try{b(10);const D=await o.arrayBuffer(),P=await te.getDocument({data:D}).promise;b(25);let W="";const I=P.numPages;for(let G=1;G<=I;G++){const N=(await(await P.getPage(G)).getTextContent()).items.map(h=>h.str);W+=`
--- Page ${G} ---
`+N.join(" ")+`
`,b(25+G/I*65)}b(90);const $=new Blob([W],{type:"text/plain"});return b(100),$}catch(D){throw console.error(`Error extracting text from ${o.name}:`,D),D}};return e.jsxs("div",{style:{maxWidth:520,margin:"0 auto",padding:12},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:16},children:"PDF â†’ Text"}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:8,marginBottom:16},children:[e.jsx("button",{className:t?"btn-outline":"btn-primary",onClick:()=>v(!1),style:{minWidth:120},children:"ðŸ“„ Single File"}),e.jsx("button",{className:t?"btn-primary":"btn-outline",onClick:()=>v(!0),style:{minWidth:120},children:"ðŸ”„ Batch Extract"})]}),t&&e.jsx(ue,{toolName:"Extract Text",processFile:r,acceptedTypes:".pdf",outputExtension:".txt",maxFiles:100,customOptions:e.jsxs("div",{style:{padding:"12px 0"},children:[e.jsxs("div",{style:{fontSize:14,color:"#666",marginBottom:8},children:["ðŸ’¡ ",e.jsx("strong",{children:"Batch Extract Mode:"})," Extract text from multiple PDFs at once."]}),e.jsxs("div",{style:{fontSize:13,color:"#888"},children:["ðŸ“ Plain text extraction with page separators",e.jsx("br",{}),"ðŸ“¦ Download individual .txt files or all as ZIP",e.jsx("br",{}),"âš¡ Process up to 100 PDFs simultaneously"]})]})}),!t&&e.jsxs("div",{children:[O&&e.jsx("div",{ref:c,tabIndex:-1,"aria-live":"assertive",style:{color:"#dc2626",marginBottom:8,background:"#fee2e2",padding:8,borderRadius:6,outline:"none"},children:O}),w&&e.jsx("div",{ref:m,tabIndex:-1,"aria-live":"polite",style:{color:"#059669",marginBottom:8,background:"#d1fae5",padding:8,borderRadius:6,outline:"none"},children:w}),n&&e.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{className:"loader",style:{display:"inline-block",width:24,height:24,border:"3px solid #3b82f6",borderTop:"3px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite",verticalAlign:"middle"}})," ",e.jsx("span",{children:"Memproses, mohon tunggu..."})]}),e.jsxs("div",{className:`dropzone ${d?"dragover":""}`,onDragEnter:f,onDragOver:p,onDragLeave:F,onDrop:g,style:{opacity:n?.6:1,pointerEvents:n?"none":"auto",border:"2px dashed #3b82f6",borderRadius:16,padding:24,marginBottom:16,background:"#f8fafc"},children:[e.jsx("input",{type:"file",accept:"application/pdf",onChange:u,disabled:n}),e.jsx("div",{className:"muted",children:"Select a PDF to extract text (plain text)."}),x&&e.jsx("div",{className:"drop-overlay",style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(59,130,246,0.1)",color:"#2563eb",fontSize:32,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:16},children:"âœ“ Uploaded"})]}),a&&e.jsxs("div",{style:{marginBottom:8,background:"#f9fafb",borderRadius:8,padding:8,boxShadow:"0 1px 4px #0001"},children:[e.jsx("div",{style:{fontWeight:500,color:"#3b82f6",wordBreak:"break-all"},children:a.name}),e.jsxs("div",{style:{color:"#888",fontSize:13},children:[(a.size/1024).toFixed(1)," KB â€¢ ",a.lastModified?new Date(a.lastModified).toLocaleString():""]})]}),a&&e.jsx(ce,{value:k,onChange:o=>C(o.target.value),disabled:n,placeholder:"output"}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,flexWrap:"wrap"},children:[e.jsx("button",{className:"btn-primary",onClick:i,disabled:n||!a,children:n?"Working...":"Extract Text"}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626",marginLeft:"auto"},onClick:()=>{y(null),M(""),B("")},disabled:n||!a,children:"Reset"})]})]})]})}try{te.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${te.version}/pdf.worker.min.js`}catch{}function He(){const[t,v]=s.useState(!1),[a,y]=s.useState(null),[n,E]=s.useState(!1),[d,S]=s.useState(!1),[x,R]=s.useState(!1),[O,M]=s.useState(""),[w,B]=s.useState(""),[k,C]=s.useState(""),c=ne.useRef(null),m=ne.useRef(null);ne.useEffect(()=>{O&&c.current&&c.current.focus()},[O]),ne.useEffect(()=>{w&&m.current&&m.current.focus()},[w]);async function u(o){M(""),B("");const l=o.target.files[0];if(l){if(!l.name.toLowerCase().endsWith(".pdf")){M("File harus PDF.");return}if(l.size>50*1024*1024){M("Ukuran file terlalu besar (maks 50MB).");return}y(l),C(pe(l))}}function f(o){o.preventDefault(),n||S(!0)}function p(o){o.preventDefault(),n||(o.dataTransfer.dropEffect="copy")}function F(o){o.preventDefault(),n||S(!1)}async function g(o){var b,D;if(o.preventDefault(),n)return;S(!1);const l=(D=(b=o.dataTransfer)==null?void 0:b.files)==null?void 0:D[0];l&&(y(l),R(!0),setTimeout(()=>R(!1),1500))}async function i(){if(!a){M("Pilih file PDF terlebih dahulu.");return}M(""),B(""),E(!0);try{const o=await a.arrayBuffer(),l=await te.getDocument({data:o}).promise,b=[];for(let $=1;$<=l.numPages;$++){const _=(await(await l.getPage($)).getTextContent()).items.map(N=>N.str);b.push(new Re(_.join(" ")))}const D=new Be({sections:[{children:b}]}),P=await Ee.toBlob(D),W=URL.createObjectURL(P),I=document.createElement("a");I.href=W,I.download=le(k,a.name.replace(/\.pdf$/i,""),".docx"),I.click(),URL.revokeObjectURL(W),B("Berhasil! File berhasil dikonversi dan diunduh.")}catch(o){console.error(o),M("Gagal: "+(o.message||o))}finally{E(!1)}}const r=async(o,l,b)=>{try{b(10);const D=await o.arrayBuffer(),P=await te.getDocument({data:D}).promise;b(25);const W=[],I=P.numPages;for(let X=1;X<=I;X++){const h=(await(await P.getPage(X)).getTextContent()).items.map(j=>j.str);W.push(new Re(h.join(" "))),b(25+X/I*60)}b(85);const $=new Be({sections:[{children:W}]}),G=await Ee.toBlob($);return b(100),G}catch(D){throw console.error(`Error converting ${o.name}:`,D),D}};return e.jsxs("div",{style:{maxWidth:520,margin:"0 auto",padding:12},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:16},children:"PDF â†’ Word (.docx)"}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:8,marginBottom:16},children:[e.jsx("button",{className:t?"btn-outline":"btn-primary",onClick:()=>v(!1),style:{minWidth:120},children:"ðŸ“„ Single File"}),e.jsx("button",{className:t?"btn-primary":"btn-outline",onClick:()=>v(!0),style:{minWidth:120},children:"ðŸ”„ Batch Convert"})]}),t&&e.jsx(ue,{toolName:"PDF to Word",processFile:r,acceptedTypes:".pdf",outputExtension:".docx",maxFiles:100,customOptions:e.jsxs("div",{style:{padding:"12px 0"},children:[e.jsxs("div",{style:{fontSize:14,color:"#666",marginBottom:8},children:["ðŸ’¡ ",e.jsx("strong",{children:"Batch Convert Mode:"})," Convert multiple PDFs to Word documents at once."]}),e.jsxs("div",{style:{fontSize:13,color:"#888"},children:["ðŸ“ Text-only conversion (preserves text content)",e.jsx("br",{}),"ðŸ“¦ Download individual .docx files or all as ZIP",e.jsx("br",{}),"âš¡ Process up to 100 PDFs simultaneously"]})]})}),!t&&e.jsxs("div",{children:[O&&e.jsx("div",{ref:c,tabIndex:-1,"aria-live":"assertive",style:{color:"#dc2626",marginBottom:8,background:"#fee2e2",padding:8,borderRadius:6,outline:"none"},children:O}),w&&e.jsx("div",{ref:m,tabIndex:-1,"aria-live":"polite",style:{color:"#059669",marginBottom:8,background:"#d1fae5",padding:8,borderRadius:6,outline:"none"},children:w}),n&&e.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{className:"loader",style:{display:"inline-block",width:24,height:24,border:"3px solid #3b82f6",borderTop:"3px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite",verticalAlign:"middle"}})," ",e.jsx("span",{children:"Memproses, mohon tunggu..."})]}),e.jsxs("div",{className:`dropzone ${d?"dragover":""}`,onDragEnter:f,onDragOver:p,onDragLeave:F,onDrop:g,style:{opacity:n?.6:1,pointerEvents:n?"none":"auto",border:"2px dashed #3b82f6",borderRadius:16,padding:24,marginBottom:16,background:"#f8fafc"},children:[e.jsx("input",{type:"file",accept:"application/pdf",onChange:u,disabled:n}),e.jsx("div",{className:"muted",children:"Select a PDF to convert to a simple .docx (text-only)."}),x&&e.jsx("div",{className:"drop-overlay",style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(59,130,246,0.1)",color:"#2563eb",fontSize:32,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:16},children:"âœ“ Uploaded"})]}),a&&e.jsxs("div",{style:{marginBottom:8,background:"#f9fafb",borderRadius:8,padding:8,boxShadow:"0 1px 4px #0001"},children:[e.jsx("div",{style:{fontWeight:500,color:"#3b82f6",wordBreak:"break-all"},children:a.name}),e.jsxs("div",{style:{color:"#888",fontSize:13},children:[(a.size/1024).toFixed(1)," KB â€¢ ",a.lastModified?new Date(a.lastModified).toLocaleString():""]})]}),a&&e.jsx(ce,{value:k,onChange:o=>C(o.target.value),disabled:n,placeholder:"output"}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,flexWrap:"wrap"},children:[e.jsx("button",{className:"btn-primary",onClick:i,disabled:n||!a,children:n?"Working...":"Convert to DOCX"}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626",marginLeft:"auto"},onClick:()=>{y(null),M(""),B("")},disabled:n||!a,children:"Reset"})]})]})]})}try{te.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${te.version}/pdf.worker.min.js`}catch{}function Ve(){const[t,v]=s.useState(!1),[a,y]=s.useState([]),[n,E]=s.useState(!1),[d,S]=s.useState(""),[x,R]=s.useState(""),[O,M]=s.useState("merged"),w=ne.useRef(null),B=ne.useRef(null);ne.useEffect(()=>{d&&w.current&&w.current.focus()},[d]),ne.useEffect(()=>{x&&B.current&&B.current.focus()},[x]);async function k(r){S(""),R("");const o=Array.from(r.target.files),l=[];for(const b of o){if(!b.name.toLowerCase().endsWith(".pdf")){S("Semua file harus PDF.");continue}if(b.size>50*1024*1024){S("Ukuran file terlalu besar (maks 50MB).");continue}const D=await g(b);l.push({file:b,thumb:D})}y(b=>b.concat(l))}async function C(){if(a.length){S(""),R(""),E(!0);try{const r=await ie.create();for(const P of a){const I=await P.file.arrayBuffer(),$=await ie.load(I);(await r.copyPages($,$.getPageIndices())).forEach(X=>r.addPage(X))}const o=await r.save(),l=new Blob([o],{type:"application/pdf"}),b=URL.createObjectURL(l),D=document.createElement("a");D.href=b,D.download=le(O,"merged"),D.click(),URL.revokeObjectURL(b),R("Berhasil! File PDF berhasil digabung dan diunduh.")}catch(r){console.error(r),S("Gagal menggabungkan: "+(r.message||r))}finally{E(!1)}}}function c(r){y(o=>o.filter((l,b)=>b!==r))}function m(r){y(o=>{if(r<=0)return o;const l=o.slice(),b=l[r-1];return l[r-1]=l[r],l[r]=b,l})}function u(r){y(o=>{if(r>=o.length-1)return o;const l=o.slice(),b=l[r+1];return l[r+1]=l[r],l[r]=b,l})}function f(r,o){r.dataTransfer.setData("text/plain",String(o)),r.dataTransfer.effectAllowed="move"}function p(r){r.preventDefault(),r.dataTransfer.dropEffect="move"}function F(r,o){r.preventDefault();const l=Number(r.dataTransfer.getData("text/plain"));Number.isNaN(l)||y(b=>{const D=b.slice(),[P]=D.splice(l,1);return D.splice(o,0,P),D})}async function g(r){try{const o=await r.arrayBuffer(),b=await(await te.getDocument({data:o}).promise).getPage(1),D=b.getViewport({scale:1.5}),P=document.createElement("canvas");P.width=Math.ceil(D.width),P.height=Math.ceil(D.height);const W=P.getContext("2d");return await b.render({canvasContext:W,viewport:D}).promise,P.toDataURL("image/png")}catch{return null}}const i=async(r,o,l)=>{try{l(10);const b=await r.arrayBuffer();l(30);const D=await ie.load(b);l(60);const P=await D.save();l(90);const W=new Blob([P],{type:"application/pdf"});return l(100),W}catch(b){throw console.error(`Error processing ${r.name}:`,b),b}};return e.jsxs("div",{style:{maxWidth:520,margin:"0 auto",padding:12},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:16},children:"Merge PDF"}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:8,marginBottom:16},children:[e.jsx("button",{className:t?"btn-outline":"btn-primary",onClick:()=>v(!1),style:{minWidth:120},children:"ðŸ“„ Merge Multiple"}),e.jsx("button",{className:t?"btn-primary":"btn-outline",onClick:()=>v(!0),style:{minWidth:120},children:"ðŸ”„ Batch Optimize"})]}),t&&e.jsx(ue,{toolName:"Optimize PDFs",processFile:i,acceptedTypes:".pdf",outputExtension:".pdf",maxFiles:100,customOptions:e.jsxs("div",{style:{padding:"12px 0"},children:[e.jsxs("div",{style:{fontSize:14,color:"#666",marginBottom:8},children:["ðŸ’¡ ",e.jsx("strong",{children:"Batch Optimize Mode:"})," Process multiple PDFs individually with optimization."]}),e.jsxs("div",{style:{fontSize:13,color:"#888"},children:["âš¡ Each PDF is optimized and compressed",e.jsx("br",{}),"ðŸ“¦ Download individual files or all as ZIP",e.jsx("br",{}),"ðŸ’¾ Original files remain unchanged"]})]})}),!t&&e.jsxs("div",{children:[d&&e.jsx("div",{ref:w,tabIndex:-1,"aria-live":"assertive",style:{color:"#dc2626",marginBottom:8,background:"#fee2e2",padding:8,borderRadius:6,outline:"none"},children:d}),x&&e.jsx("div",{ref:B,tabIndex:-1,"aria-live":"polite",style:{color:"#059669",marginBottom:8,background:"#d1fae5",padding:8,borderRadius:6,outline:"none"},children:x}),n&&e.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{className:"loader",style:{display:"inline-block",width:24,height:24,border:"3px solid #3b82f6",borderTop:"3px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite",verticalAlign:"middle"}})," ",e.jsx("span",{children:"Memproses, mohon tunggu..."})]}),e.jsxs("div",{className:"dropzone",style:{opacity:n?.6:1,pointerEvents:n?"none":"auto",border:"2px dashed #3b82f6",borderRadius:16,padding:24,marginBottom:16,background:"#f8fafc"},children:[e.jsx("input",{type:"file",accept:"application/pdf",multiple:!0,onChange:k,disabled:n}),e.jsx("div",{className:"muted",children:"Pilih beberapa file PDF. Urutan file bisa diubah sebelum digabung."})]}),e.jsx("div",{className:"file-list",children:a.map((r,o)=>e.jsxs("div",{className:"file-item",draggable:!n,onDragStart:l=>!n&&f(l,o),onDragOver:p,onDrop:l=>!n&&F(l,o),style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,background:"#f9fafb",borderRadius:8,marginBottom:8,padding:8,opacity:n?.7:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flex:1,minWidth:0},children:[e.jsx("div",{style:{width:56,height:40,flex:"none",background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4},children:r.thumb?e.jsx("img",{src:r.thumb,style:{maxWidth:"100%",maxHeight:"100%"},alt:"thumb"}):e.jsx("div",{className:"muted",children:"PDF"})}),e.jsx("div",{style:{minWidth:120,maxWidth:180,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:500},children:r.file.name}),e.jsxs("div",{style:{color:"#888",fontSize:13},children:[(r.file.size/1024).toFixed(1)," KB"]}),e.jsx("div",{style:{color:"#888",fontSize:13},children:r.file.lastModified?new Date(r.file.lastModified).toLocaleDateString():""})]}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{className:"btn",onClick:()=>m(o),disabled:o===0||n,children:"â†‘"}),e.jsx("button",{className:"btn",onClick:()=>u(o),disabled:o===a.length-1||n,children:"â†“"}),e.jsx("button",{className:"btn",onClick:()=>c(o),disabled:n,children:"Remove"})]})]},o))}),a.length>0&&e.jsx(ce,{value:O,onChange:r=>M(r.target.value),disabled:n,placeholder:"merged"}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,flexWrap:"wrap"},children:[e.jsx("button",{className:"btn-primary",onClick:C,disabled:n||a.length===0,children:n?"Working...":"Merge & Download"}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626",marginLeft:"auto"},onClick:()=>{y([]),S(""),R("")},disabled:n||a.length===0,children:"Reset"})]})]})]})}function qe(){const[t,v]=s.useState(!1),[a,y]=s.useState(null),[n,E]=s.useState([]),[d,S]=s.useState([]),[x,R]=s.useState(!1),[O,M]=s.useState(""),[w,B]=s.useState(""),[k,C]=s.useState(""),c=ne.useRef(null),m=ne.useRef(null);ne.useEffect(()=>{O&&c.current&&c.current.focus()},[O]),ne.useEffect(()=>{w&&m.current&&m.current.focus()},[w]);async function u(i){M(""),B("");const r=i.target.files[0];if(!r)return;if(!r.name.toLowerCase().endsWith(".pdf")){M("File harus PDF.");return}if(r.size>50*1024*1024){M("Ukuran file terlalu besar (maks 50MB).");return}y(r),C(pe(r,"_extracted"));const o=await r.arrayBuffer(),l=await ie.load(o);E(new Array(l.getPageCount()).fill(!1)),S(new Array(l.getPageCount()).fill(0))}function f(i){E(r=>r.map((o,l)=>l===i?!o:o))}function p(i){S(r=>r.map((o,l)=>l===i?(o+90)%360:o))}async function F(){if(a){M(""),B(""),R(!0);try{const i=await a.arrayBuffer(),r=await ie.load(i),o=n.flatMap(($,G)=>$?[G]:[]);if(o.length===0){M("Pilih halaman yang ingin diekspor."),R(!1);return}const l=await ie.create();(await l.copyPages(r,o)).forEach(($,G)=>{l.addPage($);const X=o[G],_=d[X]||0;_&&$.setRotation(_)});const D=await l.save(),P=new Blob([D],{type:"application/pdf"}),W=URL.createObjectURL(P),I=document.createElement("a");I.href=W,I.download=le(k,"extracted"),I.click(),URL.revokeObjectURL(W),B("Berhasil! Halaman berhasil diekspor dan diunduh.")}catch(i){console.error(i),M("Gagal: "+(i.message||i))}finally{R(!1)}}}const g=async(i,r,o)=>{try{o(10);const l=await i.arrayBuffer(),b=await ie.load(l);o(30);const D=await ie.create(),[P]=await D.copyPages(b,[0]);D.addPage(P),o(70);const W=await D.save();o(90);const I=new Blob([W],{type:"application/pdf"});return o(100),I}catch(l){throw console.error(`Error splitting ${i.name}:`,l),l}};return e.jsxs("div",{style:{maxWidth:520,margin:"0 auto",padding:12},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:16},children:"Split / Extract Pages"}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:8,marginBottom:16},children:[e.jsx("button",{className:t?"btn-outline":"btn-primary",onClick:()=>v(!1),style:{minWidth:120},children:"ðŸ“„ Single PDF"}),e.jsx("button",{className:t?"btn-primary":"btn-outline",onClick:()=>v(!0),style:{minWidth:120},children:"ðŸ”„ Batch Split"})]}),t&&e.jsx(ue,{toolName:"Split PDFs",processFile:g,acceptedTypes:".pdf",outputExtension:".pdf",maxFiles:100,customOptions:e.jsxs("div",{style:{padding:"12px 0"},children:[e.jsxs("div",{style:{fontSize:14,color:"#666",marginBottom:8},children:["ðŸ’¡ ",e.jsx("strong",{children:"Batch Split Mode:"})," Extract first page from multiple PDFs at once."]}),e.jsxs("div",{style:{fontSize:13,color:"#888"},children:["ðŸ“„ Each PDF's first page is extracted",e.jsx("br",{}),"ðŸ“¦ Download individual files or all as ZIP",e.jsx("br",{}),"âš¡ Process up to 100 PDFs simultaneously"]})]})}),!t&&e.jsxs("div",{children:[O&&e.jsx("div",{ref:c,tabIndex:-1,"aria-live":"assertive",style:{color:"#dc2626",marginBottom:8,background:"#fee2e2",padding:8,borderRadius:6,outline:"none"},children:O}),w&&e.jsx("div",{ref:m,tabIndex:-1,"aria-live":"polite",style:{color:"#059669",marginBottom:8,background:"#d1fae5",padding:8,borderRadius:6,outline:"none"},children:w}),x&&e.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{className:"loader",style:{display:"inline-block",width:24,height:24,border:"3px solid #3b82f6",borderTop:"3px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite",verticalAlign:"middle"}})," ",e.jsx("span",{children:"Memproses, mohon tunggu..."})]}),e.jsxs("div",{className:"dropzone",style:{opacity:x?.6:1,pointerEvents:x?"none":"auto",border:"2px dashed #3b82f6",borderRadius:16,padding:24,marginBottom:16,background:"#f8fafc"},children:[e.jsx("input",{type:"file",accept:"application/pdf",onChange:u,disabled:x}),e.jsx("div",{className:"muted",children:"Load a PDF then select pages to export."})]}),a&&e.jsxs("div",{style:{marginBottom:8,background:"#f9fafb",borderRadius:8,padding:8,boxShadow:"0 1px 4px #0001"},children:[e.jsx("div",{style:{fontWeight:500,color:"#3b82f6",wordBreak:"break-all"},children:a.name}),e.jsxs("div",{style:{color:"#888",fontSize:13},children:[(a.size/1024).toFixed(1)," KB â€¢ ",a.lastModified?new Date(a.lastModified).toLocaleString():""]})]}),e.jsx("div",{style:{marginTop:12},children:n.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"muted",children:"Click pages to toggle selection. Use rotate to change orientation."}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(120px,1fr))",gap:8,marginTop:8},children:n.map((i,r)=>e.jsx("div",{className:"file-item",style:{cursor:x?"not-allowed":"pointer",background:i?"#eef2ff":"",opacity:x?.7:1},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[e.jsxs("div",{onClick:()=>!x&&f(r),style:{flex:1},children:["Page ",r+1," ",d[r]?`â€¢ ${d[r]}Â°`:""]}),e.jsx("div",{style:{display:"flex",gap:6},children:e.jsx("button",{className:"btn",onClick:()=>p(r),disabled:x,children:"Rotate"})})]})},r))}),a&&e.jsx(ce,{value:k,onChange:i=>C(i.target.value),disabled:x,placeholder:"extracted"}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,flexWrap:"wrap"},children:[e.jsx("button",{className:"btn-primary",onClick:F,disabled:x,children:x?"Working...":"Export Selected"}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626",marginLeft:"auto"},onClick:()=>{y(null),E([]),S([]),C(""),M(""),B("")},disabled:x,children:"Reset"})]})]})})]})]})}function Ke(){const[t,v]=s.useState([]),[a,y]=s.useState(!1),[n,E]=s.useState("fit"),[d,S]=s.useState(""),[x,R]=s.useState(""),O=ne.useRef(null),M=ne.useRef(null);ne.useEffect(()=>{d&&O.current&&O.current.focus()},[d]),ne.useEffect(()=>{x&&M.current&&M.current.focus()},[x]);async function w(f){S(""),R("");const p=Array.from(f.target.files),F=[];for(const g of p){if(!g.type.startsWith("image/")){S("Semua file harus gambar.");continue}if(g.size>20*1024*1024){S("Ukuran gambar terlalu besar (maks 20MB).");continue}try{const i=await m(g);F.push({file:g,dataUrl:i.dataUrl,thumb:i.dataUrl,width:i.width,height:i.height})}catch(i){console.warn("failed to load image",g,i)}}F.length&&v(g=>g.concat(F))}function B(f){v(p=>p.filter((F,g)=>g!==f))}function k(f,p){f.dataTransfer.setData("text/plain",String(p)),f.dataTransfer.effectAllowed="move"}function C(f){f.preventDefault(),f.dataTransfer.dropEffect="move"}function c(f,p){f.preventDefault();const F=Number(f.dataTransfer.getData("text/plain"));Number.isNaN(F)||v(g=>{const i=g.slice(),[r]=i.splice(F,1);return i.splice(p,0,r),i})}function m(f){return new Promise((p,F)=>{const g=new FileReader;g.onload=()=>{const i=new Image;i.onload=()=>p({dataUrl:g.result,width:i.naturalWidth,height:i.naturalHeight}),i.onerror=F,i.src=g.result},g.onerror=F,g.readAsDataURL(f)})}async function u(){if(t.length!==0){y(!0);try{const{jsPDF:f}=await de(async()=>{const{jsPDF:o}=await import("./vendor_jspdf-wCtQMdy0.js").then(l=>l.j);return{jsPDF:o}},__vite__mapDeps([2,1,0])),p="mm",F=25.4/96,g=210,i=297,r=new f({unit:p,format:[g,i]});for(let o=0;o<t.length;o++){const l=t[o],b=l.dataUrl||l.thumb,D=l.width,P=l.height;if(!b){console.warn("skip image with no dataUrl/thumb",l);continue}const W=g,I=i;o>0&&r.addPage();const $=10,G=W-$*2,X=I-$*2,_=D*F,N=P*F;let h,j,L,A;if(n==="fit"){const J=Math.min(G/_,X/N,1);h=_*J,j=N*J,L=(W-h)/2,A=(I-j)/2}else if(n==="fill"){const J=Math.max(G/_,X/N);h=_*J,j=N*J,L=(W-h)/2,A=(I-j)/2}else h=Math.min(_,G),j=Math.min(N,X),L=(W-h)/2,A=(I-j)/2;const K=typeof b=="string"&&b.indexOf("image/png")>=0?"PNG":"JPEG";try{r.addImage(b,K,L,A,h,j)}catch(J){console.error("addImage failed for entry",o,J)}}r.save("images.pdf"),R("PDF berhasil dibuat dan diunduh!")}catch(f){console.error(f),S("Gagal membuat PDF: "+(f.message||f))}finally{y(!1)}}}return e.jsxs("div",{style:{maxWidth:520,margin:"0 auto",padding:12},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:16},children:"Images â†’ PDF"}),d&&e.jsx("div",{ref:O,tabIndex:-1,"aria-live":"assertive",style:{color:"#dc2626",marginBottom:8,background:"#fee2e2",padding:8,borderRadius:6,outline:"none"},children:d}),x&&e.jsx("div",{ref:M,tabIndex:-1,"aria-live":"polite",style:{color:"#059669",marginBottom:8,background:"#d1fae5",padding:8,borderRadius:6,outline:"none"},children:x}),a&&e.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{className:"loader",style:{display:"inline-block",width:24,height:24,border:"3px solid #3b82f6",borderTop:"3px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite",verticalAlign:"middle"}})," ",e.jsx("span",{children:"Memproses, mohon tunggu..."})]}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:8},children:[e.jsx("label",{style:{display:"flex",alignItems:"center",gap:6},children:"Mode:"}),e.jsxs("select",{value:n,onChange:f=>E(f.target.value),disabled:a,children:[e.jsx("option",{value:"fit",children:"Fit (contain)"}),e.jsx("option",{value:"fill",children:"Fill (cover)"}),e.jsx("option",{value:"actual",children:"Actual size (max page)"})]})]}),e.jsxs("div",{className:"dropzone",style:{opacity:a?.6:1,pointerEvents:a?"none":"auto",border:"2px dashed #3b82f6",borderRadius:16,padding:24,marginBottom:16,background:"#f8fafc"},children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:w,disabled:a}),e.jsx("div",{className:"muted",children:"Select images in the order you want them to appear."})]}),e.jsx("div",{className:"file-list",children:t.map((f,p)=>e.jsxs("div",{className:"file-item",draggable:!a,onDragStart:F=>!a&&k(F,p),onDragOver:C,onDrop:F=>!a&&c(F,p),style:{display:"flex",alignItems:"center",gap:8,background:"#f9fafb",borderRadius:8,marginBottom:8,padding:8,opacity:a?.7:1},children:[e.jsx("img",{src:f.thumb,style:{width:80,height:60,objectFit:"cover",borderRadius:4},alt:"thumb"}),e.jsx("div",{style:{minWidth:120,maxWidth:180,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:500},children:f.file.name}),e.jsxs("div",{style:{color:"#888",fontSize:13},children:[(f.file.size/1024).toFixed(1)," KB"]}),e.jsx("button",{className:"btn",onClick:()=>B(p),disabled:a,children:"Remove"})]},p))}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,flexWrap:"wrap"},children:[e.jsx("button",{className:"btn-primary",onClick:u,disabled:a||t.length===0,children:a?"Working...":"Create PDF"}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626",marginLeft:"auto"},onClick:()=>{v([]),S(""),R("")},disabled:a||t.length===0,children:"Reset"})]})]})}try{te.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${te.version}/pdf.worker.min.js`}catch(t){console.warn("pdfjs worker not set",t)}function Ze(){const[t,v]=s.useState(!1),[a,y]=s.useState(null),[n,E]=s.useState([]),[d,S]=s.useState(!1),[x,R]=s.useState(""),[O,M]=s.useState(""),[w,B]=s.useState("png"),[k,C]=s.useState(.92),[c,m]=s.useState("");async function u(i){const r=i.target.files[0];if(r){if(R(""),M(""),!r.type.includes("pdf")){R("Please select a PDF file.");return}if(r.size>50*1024*1024){R("File too large (max 50MB).");return}try{y(r),m(pe(r));const o=await r.arrayBuffer(),l=await te.getDocument({data:o}).promise;E(new Array(l.numPages).fill(!1)),M(`Loaded ${l.numPages} pages. Select pages to export.`)}catch(o){console.error(o),R("Failed to load PDF: "+o.message),y(null),E([])}}}function f(i){E(r=>r.map((o,l)=>l===i?!o:o))}async function p(){if(!a)return;const i=n.flatMap((r,o)=>r?[o+1]:[]);if(i.length===0){R("Please select at least one page to export.");return}R(""),M(""),S(!0);try{const r=await a.arrayBuffer(),o=await te.getDocument({data:r}).promise,l=[];for(const D of i){const P=await o.getPage(D),W=P.getViewport({scale:2}),I=document.createElement("canvas");I.width=Math.ceil(W.width),I.height=Math.ceil(W.height);const $=I.getContext("2d");await P.render({canvasContext:$,viewport:W}).promise;const G=w==="png"?"image/png":w==="webp"?"image/webp":"image/jpeg",X=await new Promise(_=>w==="png"?I.toBlob(_,"image/png"):I.toBlob(_,G,k));l.push({pnum:D,blob:X})}const b=w==="png"?".png":w==="webp"?".webp":".jpg";if(i.length===1){const D=l[0].blob,P=URL.createObjectURL(D),W=document.createElement("a");W.href=P,W.download=le(c,a.name.replace(/\.pdf$/i,"")+`_page_${l[0].pnum}`,b),W.click(),URL.revokeObjectURL(P),M(`Exported 1 page as ${w.toUpperCase()}!`)}else{const D=new ve;for(const $ of l){const G=await $.blob.arrayBuffer();D.file(`${a.name.replace(/\.pdf$/i,"")}_page_${$.pnum}${b}`,G)}const P=await D.generateAsync({type:"blob"}),W=URL.createObjectURL(P),I=document.createElement("a");I.href=W,I.download=le(c,a.name.replace(/\.pdf$/i,"")+"_pages",".zip"),I.click(),URL.revokeObjectURL(W),M(`Exported ${i.length} pages as ${w.toUpperCase()} in ZIP!`)}}catch(r){console.error(r),R("Export failed: "+r.message)}finally{S(!1)}}async function F(i,r){try{r(10);const o=await i.arrayBuffer();r(20);const l=await te.getDocument({data:o}).promise,b=l.numPages;r(30);const D=new ve,P=w==="png"?".png":w==="webp"?".webp":".jpg";for(let I=1;I<=b;I++){const $=await l.getPage(I),G=$.getViewport({scale:2}),X=document.createElement("canvas");X.width=Math.ceil(G.width),X.height=Math.ceil(G.height);const _=X.getContext("2d");await $.render({canvasContext:_,viewport:G}).promise;const N=w==="png"?"image/png":w==="webp"?"image/webp":"image/jpeg",j=await(await new Promise(L=>w==="png"?X.toBlob(L,"image/png"):X.toBlob(L,N,k))).arrayBuffer();D.file(`page_${I}${P}`,j),r(30+I/b*60)}r(90);const W=await D.generateAsync({type:"blob"});return r(100),W}catch(o){throw new Error(`Failed to convert PDF to images: ${o.message||o}`)}}function g(){y(null),E([]),R(""),M(""),v(!1)}return e.jsxs("div",{children:[e.jsx("h2",{children:"PDF â†’ Images"}),e.jsx("p",{className:"muted",children:"Convert PDF pages to image files (PNG, JPEG, or WEBP)."}),e.jsxs("div",{style:{display:"flex",gap:8,marginBottom:16,borderBottom:"2px solid var(--border)",paddingBottom:8},children:[e.jsx("button",{onClick:()=>v(!1),disabled:d,style:{padding:"8px 16px",backgroundColor:t?"transparent":"var(--primary)",color:t?"var(--text)":"white",border:t?"1px solid var(--border)":"none",borderRadius:4,cursor:"pointer",fontWeight:t?"normal":"bold"},children:"ðŸ“„ Single File"}),e.jsx("button",{onClick:()=>v(!0),disabled:d,style:{padding:"8px 16px",backgroundColor:t?"var(--primary)":"transparent",color:t?"white":"var(--text)",border:t?"none":"1px solid var(--border)",borderRadius:4,cursor:"pointer",fontWeight:t?"bold":"normal"},children:"ðŸ“š Batch Process"})]}),x&&e.jsxs("div",{className:"error-message",role:"alert",children:["âš ï¸ ",x]}),O&&e.jsxs("div",{className:"success-message",role:"status",children:["âœ… ",O]}),t?e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:6,maxWidth:300},children:[e.jsx("strong",{children:"Output Format:"}),e.jsxs("select",{value:w,onChange:i=>B(i.target.value),disabled:d,className:"select",children:[e.jsx("option",{value:"png",children:"PNG (Lossless, larger file)"}),e.jsx("option",{value:"jpeg",children:"JPEG (Compressed, smaller file)"}),e.jsx("option",{value:"webp",children:"WEBP (Modern, best quality/size)"})]})]}),w!=="png"&&e.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:6,marginTop:12,maxWidth:300},children:[e.jsxs("strong",{children:["Quality: ",Math.round(k*100),"%"]}),e.jsx("input",{type:"range",min:"0.5",max:"1",step:"0.05",value:k,onChange:i=>C(Number(i.target.value)),disabled:d})]})]}),e.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--paper)",border:"1px solid var(--border)",borderRadius:4},children:[e.jsx("strong",{children:"Batch Mode Settings:"}),e.jsxs("ul",{style:{marginTop:8,marginBottom:0,paddingLeft:20},children:[e.jsxs("li",{children:["Format: ",w.toUpperCase()]}),w!=="png"&&e.jsxs("li",{children:["Quality: ",Math.round(k*100),"%"]}),e.jsx("li",{children:"All pages from each PDF will be converted"}),e.jsx("li",{children:"Each PDF's images will be saved as a separate ZIP file"})]})]}),e.jsx(ue,{processFile:F,outputFilenameSuffix:`_${w}_images`,acceptedFileTypes:"application/pdf",description:"Convert multiple PDFs to images",outputFileExtension:".zip"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"dropzone",children:[e.jsx("input",{type:"file",accept:"application/pdf",onChange:u,disabled:d}),e.jsx("div",{className:"muted",children:"Select a PDF, then choose pages and format to export."})]}),a&&e.jsxs("div",{className:"file-info",children:[e.jsx("strong",{children:"ðŸ“„ File:"})," ",a.name," (",(a.size/1024).toFixed(1)," KB)"]}),n.length>0&&e.jsxs("div",{style:{marginTop:16},children:[e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:6,maxWidth:300},children:[e.jsx("strong",{children:"Output Format:"}),e.jsxs("select",{value:w,onChange:i=>B(i.target.value),disabled:d,className:"select",children:[e.jsx("option",{value:"png",children:"PNG (Lossless, larger file)"}),e.jsx("option",{value:"jpeg",children:"JPEG (Compressed, smaller file)"}),e.jsx("option",{value:"webp",children:"WEBP (Modern, best quality/size)"})]})]}),w!=="png"&&e.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:6,marginTop:12,maxWidth:300},children:[e.jsxs("strong",{children:["Quality: ",Math.round(k*100),"%"]}),e.jsx("input",{type:"range",min:"0.5",max:"1",step:"0.05",value:k,onChange:i=>C(Number(i.target.value)),disabled:d})]})]}),e.jsxs("div",{className:"muted",style:{marginBottom:8},children:["Click pages to select. Selected: ",n.filter(i=>i).length," / ",n.length]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(90px,1fr))",gap:8,marginBottom:16},children:n.map((i,r)=>e.jsxs("div",{className:"file-item",onClick:()=>f(r),style:{cursor:"pointer",background:i?"#eef2ff":"",border:i?"2px solid #4f46e5":"1px solid var(--border)",fontWeight:i?"600":"400"},children:["ðŸ“„ ",r+1]},r))}),a&&e.jsx(ce,{value:c,onChange:i=>m(i.target.value),disabled:d,placeholder:"output"}),e.jsxs("div",{style:{display:"flex",gap:12},children:[e.jsx("button",{className:"btn-primary",onClick:p,disabled:d||n.filter(i=>i).length===0,children:d?"â³ Rendering...":`ðŸ“¥ Export as ${w.toUpperCase()}`}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626"},onClick:g,disabled:d,children:"Reset"})]})]})]})]})}try{te.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${te.version}/pdf.worker.min.js`}catch{}function Je(){const[t,v]=s.useState(null),[a,y]=s.useState(null),n=s.useRef(),[E,d]=s.useState(!1),[S,x]=s.useState(""),[R,O]=s.useState(""),[M,w]=s.useState(!1),[B,k]=s.useState("");async function C(g){const i=g.target.files[0];if(i){if(x(""),O(""),!i.type.includes("pdf")){x("Please select a PDF file.");return}try{w(!0),v(i),k(pe(i,"_annotated"));const r=await i.arrayBuffer(),l=await(await te.getDocument({data:r}).promise).getPage(1),b=l.getViewport({scale:1.5}),D=document.createElement("canvas");D.width=Math.ceil(b.width),D.height=Math.ceil(b.height);const P=D.getContext("2d");await l.render({canvasContext:P,viewport:b}).promise,y(D.toDataURL("image/png")),O("PDF loaded! Draw on the canvas to annotate.")}catch(r){console.error(r),x("Failed to load PDF: "+r.message),v(null),y(null)}finally{w(!1)}}}s.useEffect(()=>{const g=n.current;if(!g||!a)return;const i=g.getContext("2d"),r=new Image;r.onload=()=>{g.width=r.width,g.height=r.height,i.drawImage(r,0,0)},r.src=a},[a]);function c(g){d(!0),u(g)}function m(){d(!1)}function u(g){if(!E)return;const i=n.current,r=i.getBoundingClientRect(),o=g.clientX-r.left,l=g.clientY-r.top,b=i.getContext("2d");b.fillStyle="rgba(255,0,0,0.6)",b.beginPath(),b.arc(o,l,6,0,Math.PI*2),b.fill()}function f(){if(!n.current||!a)return;const i=n.current.getContext("2d"),r=new Image;r.onload=()=>i.drawImage(r,0,0),r.src=a,O("Canvas cleared!")}async function p(){if(!(!t||!n.current)){x(""),w(!0);try{const g=await new Promise(I=>n.current.toBlob(I,"image/png")),i=await ie.create(),r=await g.arrayBuffer(),o=await i.embedPng(r);i.addPage([o.width,o.height]).drawImage(o,{x:0,y:0,width:o.width,height:o.height});const b=await i.save(),D=new Blob([b],{type:"application/pdf"}),P=URL.createObjectURL(D),W=document.createElement("a");W.href=P,W.download=le(B,t.name.replace(/\.pdf$/i,"")+"_annotated"),W.click(),URL.revokeObjectURL(P),O("Annotated PDF exported successfully!")}catch(g){console.error(g),x("Export failed: "+g.message)}finally{w(!1)}}}function F(){v(null),y(null),x(""),O("")}return e.jsxs("div",{children:[e.jsx("h2",{children:"Annotate PDF"}),e.jsx("p",{className:"muted",children:"Draw annotations on the first page of your PDF."}),S&&e.jsxs("div",{className:"error-message",role:"alert",children:["âš ï¸ ",S]}),R&&e.jsxs("div",{className:"success-message",role:"status",children:["âœ… ",R]}),e.jsxs("div",{className:"dropzone",children:[e.jsx("input",{type:"file",accept:"application/pdf",onChange:C,disabled:M}),e.jsx("div",{className:"muted",children:"Load a PDF (first page shown). Click and drag to draw annotations."})]}),t&&!a&&M&&e.jsx("div",{style:{marginTop:12},children:"â³ Loading PDF..."}),a&&e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{style:{border:"2px solid var(--border)",borderRadius:8,overflow:"hidden"},children:e.jsx("canvas",{ref:n,onMouseDown:c,onMouseUp:m,onMouseMove:u,style:{display:"block",width:"100%",cursor:"crosshair"}})}),t&&e.jsx(ce,{value:B,onChange:g=>k(g.target.value),disabled:M,placeholder:"output_annotated"}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:12},children:[e.jsx("button",{className:"btn-primary",onClick:p,disabled:M,children:M?"â³ Exporting...":"ðŸ“¥ Export Annotated PDF"}),e.jsx("button",{className:"btn-ghost",onClick:f,disabled:M,children:"ðŸ§¹ Clear Drawings"}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626"},onClick:F,disabled:M,children:"Reset"})]})]})]})}try{te.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${te.version}/pdf.worker.min.js`}catch(t){console.warn("pdfjs worker not set",t)}function Xe(){const[t,v]=s.useState(!1),[a,y]=s.useState(null),[n,E]=s.useState(0),[d,S]=s.useState(!1),[x,R]=s.useState(!1),[O,M]=s.useState(!1),[w,B]=s.useState(.9),[k,C]=s.useState(1),[c,m]=s.useState("jpeg");s.useEffect(()=>{document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")===0&&m("webp")},[]);const[u,f]=s.useState(null),[p,F]=s.useState(null),[g,i]=s.useState(null),[r,o]=s.useState(!1),[l,b]=s.useState(""),[D,P]=s.useState(""),[W,I]=s.useState(""),[$,G]=s.useState("idle"),[X,_]=s.useState(""),N=s.useRef(null),h=s.useRef(null);s.useEffect(()=>{D&&N.current&&N.current.focus()},[D]),s.useEffect(()=>{W&&h.current&&h.current.focus()},[W]);const j=s.useRef(0),L=s.useRef(null);async function A(T){var H;P(""),I("");const U=(H=T.target.files)==null?void 0:H[0];if(U){if(!U.name.toLowerCase().endsWith(".pdf")){P("File harus PDF.");return}if(U.size>50*1024*1024){P("Ukuran file terlalu besar (maks 50MB).");return}y(U),F(U.size),i(null),b(""),f(null),_(pe(U,"_compressed"));try{const V=await U.arrayBuffer(),ee=await te.getDocument({data:V.slice(0)}).promise;E(ee.numPages)}catch(V){console.error(V),P("Unable to read PDF: "+(V.message||V))}}}function K(T){T.preventDefault(),d||R(!0)}function J(T){T.preventDefault(),d||(T.dataTransfer.dropEffect="copy")}function Y(T){T.preventDefault(),d||R(!1)}async function ae(T){var H,V;if(T.preventDefault(),d)return;R(!1);const U=(V=(H=T.dataTransfer)==null?void 0:H.files)==null?void 0:V[0];if(U){y(U),F(U.size),i(null),b(""),f(null);const ee=await U.arrayBuffer(),se=await te.getDocument({data:ee.slice(0)}).promise;E(se.numPages),M(!0),setTimeout(()=>M(!1),1500)}}async function re({download:T=!0}={download:!0}){if(P(""),I(""),!a){P("Select a PDF to compress");return}S(!0),G("checking");try{const U=await fetch("https://dexpdfbackend-production.up.railway.app/",{method:"GET"});G("online")}catch{G("sleeping")}try{const U=new FormData;U.append("pdf",a);const H=await fetch("https://dexpdfbackend-production.up.railway.app/compress",{method:"POST",body:U});if(!H.ok)throw new Error("Compression failed");const V=await H.blob(),ee=window.URL.createObjectURL(V),se=document.createElement("a");se.href=ee,se.download=le(X,"compressed"),document.body.appendChild(se),se.click(),se.remove(),window.URL.revokeObjectURL(ee),I("Berhasil! File terdownload.")}catch(U){console.error(U),P("Compression failed: "+(U.message||U))}finally{S(!1),G("idle")}}async function oe(){if(!a)return alert("Select a PDF first");o(!0),i(null),b("Preparing...");try{const T=await a.arrayBuffer(),U=await te.getDocument({data:T.slice(0)}).promise,H=U.numPages;E(H),b("Rendering sample page...");const V=await U.getPage(1),ee=V.getViewport({scale:k}),se=document.createElement("canvas");se.width=Math.ceil(ee.width),se.height=Math.ceil(ee.height);const fe=se.getContext("2d");await V.render({canvasContext:fe,viewport:ee}).promise;const ge=await new Promise(ye=>se.toBlob(ye,c==="webp"?"image/webp":"image/jpeg",Number(w))),he=ge?ge.size:0,be=Math.max(0,Math.round(he*H+2e3));i(be),b("Estimated using sample page at current settings"),se.width=0,se.height=0}catch(T){console.error(T),alert("Estimate failed: "+(T.message||T))}finally{o(!1)}}async function z(T,U){const H=await a.arrayBuffer(),V=await te.getDocument({data:H.slice(0)}).promise,ee=V.numPages,se=await V.getPage(1),fe=se.getViewport({scale:U}),ge=document.createElement("canvas");ge.width=Math.ceil(fe.width),ge.height=Math.ceil(fe.height);const he=ge.getContext("2d");await se.render({canvasContext:he,viewport:fe}).promise;const xe=await new Promise(Se=>ge.toBlob(Se,c==="webp"?"image/webp":"image/jpeg",Number(T))),be=xe?xe.size:0,ye=2e3;return ge.width=0,ge.height=0,Math.max(0,Math.round(be*ee+ye))}async function q(){if(!a)return alert("Select a PDF first");o(!0),b("Estimating range...");try{const T=await a.arrayBuffer(),H=(await te.getDocument({data:T.slice(0)}).promise).numPages;E(H);const V=.1,ee=.5,se=1,fe=1,ge=Number(w),he=Number(k);b("Rendering low-quality sample...");const xe=++j.current,be=await z(V,ee);if(xe!==j.current)throw new Error("Cancelled");b("Rendering current settings sample...");const ye=await z(ge,he);if(xe!==j.current)throw new Error("Cancelled");b("Rendering high-quality sample...");const Se=await z(se,fe);if(xe!==j.current)throw new Error("Cancelled");i({low:be,cur:ye,high:Se}),b("Range estimated using first-page extrapolation")}catch(T){console.error(T),alert("Range estimate failed: "+(T.message||T))}finally{o(!1)}}s.useEffect(()=>{if(a)return L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{(j.current++)(async()=>{try{o(!0),b("Estimating...");const T=await z(Number(w),Number(k));if(j.current===0)return;i({cur:T}),b("Live estimate updated")}catch(T){T.message!=="Cancelled"&&console.error(T)}finally{o(!1)}})()},350),()=>{L.current&&clearTimeout(L.current)}},[a,w,k]);function Q(T){return T==null?"-":T<1024?T+" B":T<1024*1024?(T/1024).toFixed(1)+" KB":(T/(1024*1024)).toFixed(2)+" MB"}const Z=async(T,U,H)=>{try{H(10);const V=new FormData;V.append("pdf",T),H(30);const ee=await fetch("https://dexpdfbackend-production.up.railway.app/compress",{method:"POST",body:V});if(H(70),!ee.ok)throw new Error(`Compression failed: ${ee.statusText}`);const se=await ee.blob();return H(100),se}catch(V){throw console.error(`Error compressing file ${T.name}:`,V),V}};return e.jsxs("div",{style:{maxWidth:520,margin:"0 auto",padding:12},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:16},children:"Compress PDF"}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:8,marginBottom:16},children:[e.jsx("button",{className:t?"btn-outline":"btn-primary",onClick:()=>v(!1),style:{minWidth:120},children:"ðŸ“„ Single File"}),e.jsx("button",{className:t?"btn-primary":"btn-outline",onClick:()=>v(!0),style:{minWidth:120},children:"ðŸ”„ Batch Mode"})]}),t&&e.jsx(ue,{toolName:"Compress PDF",processFile:Z,acceptedTypes:".pdf",outputExtension:".pdf",maxFiles:100,customOptions:e.jsxs("div",{style:{padding:"12px 0"},children:[e.jsxs("div",{style:{fontSize:14,color:"#666",marginBottom:8},children:["ðŸ’¡ ",e.jsx("strong",{children:"Batch Tips:"})," Backend compression optimizes automatically for best quality/size ratio."]}),e.jsxs("div",{style:{fontSize:13,color:"#888"},children:["âš¡ Processing speed: ~2-5 seconds per PDF",e.jsx("br",{}),"ðŸŽ¯ Quality: High (automatic optimization)",e.jsx("br",{}),"ðŸ“¦ Download: Individual files or all as ZIP"]})]})}),!t&&e.jsxs("div",{children:[D&&e.jsx("div",{ref:N,tabIndex:-1,"aria-live":"assertive",style:{color:"#dc2626",marginBottom:8,background:"#fee2e2",padding:8,borderRadius:6,outline:"none"},children:D}),W&&e.jsx("div",{ref:h,tabIndex:-1,"aria-live":"polite",style:{color:"#059669",marginBottom:8,background:"#d1fae5",padding:8,borderRadius:6,outline:"none"},children:W}),$==="sleeping"&&e.jsx("div",{style:{color:"#b45309",marginBottom:8,background:"#fef3c7",padding:8,borderRadius:6},children:"Backend sedang bangun (sleeping), mohon tunggu beberapa detik lalu coba lagi."}),d&&e.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{className:"loader",style:{display:"inline-block",width:24,height:24,border:"3px solid #3b82f6",borderTop:"3px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite",verticalAlign:"middle"}})," ",e.jsx("span",{children:"Memproses, mohon tunggu..."})]}),e.jsxs("div",{className:`dropzone big-dropzone ${x?"dragover":""}`,onDragEnter:K,onDragOver:J,onDragLeave:Y,onDrop:ae,style:{border:"2px dashed #3b82f6",borderRadius:16,padding:32,textAlign:"center",background:x?"#e0f2fe":"#f8fafc",position:"relative",marginBottom:16,transition:"background 0.2s",opacity:d?.6:1,pointerEvents:d?"none":"auto"},children:[e.jsx("input",{type:"file",accept:"application/pdf",onChange:A,style:{display:"none"},id:"pdf-upload-input",disabled:d}),e.jsxs("label",{htmlFor:"pdf-upload-input",style:{cursor:d?"not-allowed":"pointer",display:"block"},children:[e.jsx("div",{style:{fontSize:48,color:"#3b82f6",marginBottom:8},children:e.jsxs("svg",{width:"48",height:"48",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#3b82f6",d:"M12 16V4m0 0-4 4m4-4 4 4",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("rect",{x:"4",y:"16",width:"16",height:"4",rx:"2",fill:"#3b82f6",opacity:".15"})]})}),e.jsx("div",{style:{fontSize:20,fontWeight:600,color:"#222"},children:"Drop PDF here or click to upload"}),e.jsxs("div",{className:"muted",style:{marginTop:6,color:"#555"},children:["Kompres PDF: ",e.jsx("b",{children:"Ukuran kecil, kualitas tetap tinggi"}),".",e.jsx("br",{}),e.jsx("b",{children:"Tips:"})," Pilih kualitas tinggi untuk hasil tajam, atau turunkan untuk file lebih kecil.",e.jsx("br",{}),c==="webp"?"WebP mode aktif (hasil lebih kecil & tajam)":"JPEG mode (WebP tidak didukung browser)"]})]}),e.jsxs("div",{style:{marginTop:8,display:"flex",gap:8,justifyContent:"center",flexWrap:"wrap"},children:[e.jsx("button",{className:"btn-ghost",style:{minWidth:110},onClick:()=>{B(.95),C(1),P(""),I("")},disabled:d,children:"High Quality"}),e.jsx("button",{className:"btn-ghost",style:{minWidth:110},onClick:()=>{B(.8),C(.9),P(""),I("")},disabled:d,children:"Balanced"}),e.jsx("button",{className:"btn-ghost",style:{minWidth:110},onClick:()=>{B(.5),C(.7),P(""),I("")},disabled:d,children:"Smallest Size"})]}),O&&e.jsx("div",{className:"drop-overlay",style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(59,130,246,0.1)",color:"#2563eb",fontSize:32,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:16},children:"âœ“ Uploaded"})]}),a&&e.jsxs("div",{style:{marginTop:12,background:"#f9fafb",borderRadius:12,padding:16,boxShadow:"0 1px 4px #0001"},children:[e.jsxs("div",{style:{fontSize:18,fontWeight:600,marginBottom:4,wordBreak:"break-all"},children:[e.jsx("span",{style:{color:"#3b82f6"},children:a.name})," â€” ",n," pages"]}),e.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center",marginBottom:8,flexWrap:"wrap"},children:[e.jsx("span",{style:{color:"#888"},children:"Original:"})," ",e.jsx("span",{style:{fontWeight:500},children:Q(p)}),e.jsx("span",{style:{color:"#888"},children:"Type:"})," ",e.jsx("span",{style:{fontWeight:500},children:a.type||"application/pdf"}),e.jsx("span",{style:{color:"#888"},children:"Last modified:"})," ",e.jsx("span",{style:{fontWeight:500},children:a.lastModified?new Date(a.lastModified).toLocaleString():"-"}),g&&typeof g=="object"&&g.cur&&e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{color:"#888"},children:"â†’ Compressed:"})," ",e.jsx("span",{style:{fontWeight:500,color:"#059669"},children:Q(g.cur)}),e.jsxs("span",{style:{color:"#888"},children:["(",p?Math.round(100-g.cur/p*100):0,"% smaller)"]})]})]}),g&&e.jsxs("div",{style:{marginTop:8,color:"#b45309",background:"#fef3c7",padding:8,borderRadius:6},children:["Estimasi ukuran hanya berlaku untuk mode compress di browser, bukan backend Railway.",e.jsx("br",{}),"Hasil compress backend biasanya lebih optimal."]}),l&&e.jsxs("div",{style:{marginTop:8,color:"#6b7280",width:"100%"},children:[e.jsx("div",{style:{height:8,background:"#e5e7eb",borderRadius:4,overflow:"hidden",marginBottom:4},children:r||d?e.jsx("div",{style:{width:"100%",height:"100%",background:"#3b82f6",animation:"progressBarAnim 1.2s linear infinite"}}):null}),e.jsx("span",{children:l})]}),e.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",marginTop:8,flexWrap:"wrap"},children:[e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:["JPEG Quality:",e.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.05",value:w,onChange:T=>B(Number(T.target.value)),disabled:d}),e.jsxs("div",{style:{width:44,textAlign:"right"},children:[Math.round(w*100),"%"]})]}),e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:["Render Scale:",e.jsxs("select",{value:k,onChange:T=>C(Number(T.target.value)),disabled:d,children:[e.jsx("option",{value:1,children:"100%"}),e.jsx("option",{value:.9,children:"90%"}),e.jsx("option",{value:.8,children:"80%"}),e.jsx("option",{value:.7,children:"70%"}),e.jsx("option",{value:.6,children:"60%"}),e.jsx("option",{value:.5,children:"50%"})]})]})]}),e.jsx(ce,{value:X,onChange:T=>_(T.target.value),disabled:d,placeholder:"compressed"}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,flexWrap:"wrap"},children:[e.jsx("button",{className:"btn-primary",onClick:()=>re({download:!0}),disabled:d,children:d?"Compressing...":"Compress & Download"}),e.jsx("button",{className:"btn-outline",disabled:!0,title:"Preview hanya untuk mode browser",children:"Preview"}),e.jsx("button",{className:"btn-ghost",onClick:oe,disabled:r||d,children:r?"Estimating...":"Estimate size"}),e.jsx("button",{className:"btn-ghost",onClick:q,disabled:r||d,children:r?"Estimating...":"Estimate range (min/cur/max)"}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626",marginLeft:"auto"},onClick:()=>{y(null),E(0),i(null),F(null),f(null),P(""),I("")},disabled:d,children:"Reset"})]}),u&&e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{className:"muted",children:"Preview (close tab/window to dismiss):"}),e.jsx("iframe",{title:"compress-preview",src:u,style:{width:"100%",height:400,border:"1px solid #ddd"}})]})]})]})]})}function Ce(t){return new Promise((v,a)=>{if(typeof t=="string"){const y=Ie.parse(t.trim(),{header:!1});v(y.data)}else Ie.parse(t,{complete:y=>v(y.data),error:y=>a(y)})})}function Ye(){const[t,v]=s.useState([]),[a,y]=s.useState(null),n=s.useRef(null),[E,d]=s.useState("table"),[S,x]=s.useState(!1);async function R(B){var C;y(null);const k=(C=B.target.files)==null?void 0:C[0];if(k)try{const c=await Ce(k);v(c)}catch{y("Failed to parse CSV")}}async function O(){try{const B=await navigator.clipboard.readText(),k=await Ce(B);v(k)}catch{y("Failed to parse pasted CSV")}}async function M(B){const k=await Ce(B),C=document.createElement("table"),c=document.createElement("tbody");k.forEach(u=>{const f=document.createElement("tr");u.forEach(p=>{const F=document.createElement("td");F.textContent=p,F.style.border="1px solid #ddd",F.style.padding="8px",f.appendChild(F)}),c.appendChild(f)}),C.appendChild(c),C.style.borderCollapse="collapse",C.style.width="100%";const m=document.createElement("div");m.style.position="absolute",m.style.left="-9999px",m.appendChild(C),document.body.appendChild(m);try{const f=(await ke(C,{scale:2})).toDataURL("image/png"),p=new We("p","pt","a4"),F=p.getImageProperties(f),g=p.internal.pageSize.getWidth(),i=F.height*g/F.width;return p.addImage(f,"PNG",0,0,g,i),p.output("blob")}finally{document.body.removeChild(m)}}async function w(){if(!n.current)return;const B=n.current,C=(await ke(B,{scale:2})).toDataURL("image/png"),c=new We("p","pt","a4"),m=c.getImageProperties(C),u=c.internal.pageSize.getWidth(),f=m.height*u/m.width;c.addImage(C,"PNG",0,0,u,f),c.save(le(E,"table"))}return e.jsxs("div",{className:"tool-csv2pdf",children:[e.jsx("div",{style:{marginBottom:12},children:e.jsx("button",{onClick:()=>x(!S),style:{padding:"6px 12px",borderRadius:4,border:"1px solid #ccc",background:S?"#3b82f6":"#fff",color:S?"#fff":"#000",cursor:"pointer"},children:S?"Switch to Single Mode":"Switch to Batch Mode"})}),S?e.jsx(ue,{accept:".csv,text/csv",processFile:M,outputNameSuffix:"",taskName:"Convert CSV to PDF"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"tool-controls",children:[e.jsxs("label",{className:"btn",children:["Upload CSV",e.jsx("input",{type:"file",accept:".csv,text/csv",onChange:R,style:{display:"none"}})]}),e.jsx("button",{className:"btn",onClick:O,children:"Paste CSV from clipboard"}),e.jsx("button",{className:"btn",onClick:()=>{v([]),y(null)},children:"Clear"})]}),a&&e.jsx("div",{className:"tool-error",children:a}),t&&t.length>0&&e.jsx(ce,{value:E,onChange:B=>d(B.target.value),disabled:!1,placeholder:"table"}),e.jsx("div",{style:{marginTop:12},children:e.jsx("button",{className:"btn primary",onClick:w,disabled:!t||t.length===0,children:"Export to PDF"})}),e.jsx("div",{className:"csv-preview",ref:n,children:e.jsx("table",{children:e.jsx("tbody",{children:t.map((B,k)=>e.jsx("tr",{children:B.map((C,c)=>e.jsx("td",{children:C},c))},k))})})})]})]})}function Qe(){const[t,v]=s.useState(null),[a,y]=s.useState("text"),[n,E]=s.useState("New text"),[d,S]=s.useState(!1),[x,R]=s.useState(null),[O,M]=s.useState(""),[w,B]=s.useState(!1);async function k(u){var p;const f=(p=u.target.files)==null?void 0:p[0];f&&(v(f),M(pe(f,"_edited")))}async function C(u){var p;const f=(p=u.target.files)==null?void 0:p[0];f&&R(f)}async function c(u){const f=await u.arrayBuffer(),p=await ie.load(f),F=p.getPages(),g=await p.embedFont(we.Helvetica),i=F[0],{width:r,height:o}=i.getSize();if(a==="text")i.drawText(n,{x:40,y:o-80,size:14,font:g,color:me(0,0,0)});else if(a==="image"&&x){const b=await x.arrayBuffer(),D=(x.type||"").toLowerCase();let P;D.includes("png")?P=await p.embedPng(b):P=await p.embedJpg(b),i.drawImage(P,{x:40,y:o-200,width:150,height:120})}else i.drawRectangle({x:40,y:o-240,width:200,height:100,color:me(.9,.9,.9)});const l=await p.save();return new Blob([l],{type:"application/pdf"})}async function m(){if(!t)return alert("Select a PDF");S(!0);try{const u=await t.arrayBuffer(),f=await ie.load(u),p=f.getPages(),F=await f.embedFont(we.Helvetica),g=p[0],{width:i,height:r}=g.getSize();if(a==="text")g.drawText(n,{x:40,y:r-80,size:14,font:F,color:me(0,0,0)});else if(a==="image"&&x){const P=await x.arrayBuffer(),W=(x.type||"").toLowerCase();let I;W.includes("png")?I=await f.embedPng(P):I=await f.embedJpg(P),g.drawImage(I,{x:40,y:r-200,width:150,height:120})}else g.drawRectangle({x:40,y:r-240,width:200,height:100,color:me(.9,.9,.9)});const o=await f.save(),l=new Blob([o],{type:"application/pdf"}),b=URL.createObjectURL(l),D=document.createElement("a");D.href=b,D.download=le(O,t.name.replace(/\.pdf$/i,"")+"_edited"),D.click(),URL.revokeObjectURL(b)}catch(u){console.error(u),alert("Failed: "+u.message)}finally{S(!1)}}return e.jsxs("div",{children:[e.jsx("h2",{children:"Edit PDF"}),e.jsx("div",{style:{marginBottom:12},children:e.jsx("button",{onClick:()=>B(!w),style:{padding:"6px 12px",borderRadius:4,border:"1px solid #ccc",background:w?"#3b82f6":"#fff",color:w?"#fff":"#000",cursor:"pointer"},children:w?"Switch to Single Mode":"Switch to Batch Mode"})}),e.jsxs("div",{style:{marginTop:8},children:[e.jsx("label",{children:"Mode"}),e.jsxs("select",{value:a,onChange:u=>y(u.target.value),children:[e.jsx("option",{value:"text",children:"Add Text"}),e.jsx("option",{value:"image",children:"Add Image"}),e.jsx("option",{value:"shape",children:"Add Shape"})]})]}),a==="text"&&e.jsx("div",{style:{marginTop:8},children:e.jsx("input",{value:n,onChange:u=>E(u.target.value),style:{width:"60%"}})}),a==="image"&&e.jsx("div",{style:{marginTop:8},children:e.jsx("input",{type:"file",accept:"image/*",onChange:C})}),w?e.jsx("div",{style:{marginTop:16},children:e.jsx(ue,{accept:"application/pdf",processFile:c,outputNameSuffix:"_edited",taskName:`Edit PDF (${a})`})}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",accept:"application/pdf",onChange:k}),t&&e.jsx(ce,{value:O,onChange:u=>M(u.target.value),disabled:d,placeholder:"output_edited"}),e.jsx("div",{style:{marginTop:12},children:e.jsx("button",{className:"btn-primary",onClick:m,disabled:d,children:d?"Working...":"Apply Edits"})})]})]})}try{te.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${te.version}/pdf.worker.min.js`}catch{}const Pe=[{code:"eng",name:"ðŸ‡¬ðŸ‡§ English",popular:!0},{code:"ind",name:"ðŸ‡®ðŸ‡© Indonesian",popular:!0},{code:"spa",name:"ðŸ‡ªðŸ‡¸ Spanish",popular:!0},{code:"fra",name:"ðŸ‡«ðŸ‡· French",popular:!0},{code:"deu",name:"ðŸ‡©ðŸ‡ª German",popular:!0},{code:"chi_sim",name:"ðŸ‡¨ðŸ‡³ Chinese Simplified",popular:!0},{code:"chi_tra",name:"ðŸ‡¹ðŸ‡¼ Chinese Traditional",popular:!1},{code:"jpn",name:"ðŸ‡¯ðŸ‡µ Japanese",popular:!0},{code:"kor",name:"ðŸ‡°ðŸ‡· Korean",popular:!0},{code:"ara",name:"ðŸ‡¸ðŸ‡¦ Arabic",popular:!0},{code:"rus",name:"ðŸ‡·ðŸ‡º Russian",popular:!1},{code:"por",name:"ðŸ‡µðŸ‡¹ Portuguese",popular:!0},{code:"ita",name:"ðŸ‡®ðŸ‡¹ Italian",popular:!1},{code:"nld",name:"ðŸ‡³ðŸ‡± Dutch",popular:!1},{code:"tha",name:"ðŸ‡¹ðŸ‡­ Thai",popular:!0},{code:"vie",name:"ðŸ‡»ðŸ‡³ Vietnamese",popular:!0}];function et(){const[t,v]=s.useState(null),[a,y]=s.useState(""),[n,E]=s.useState(!1),[d,S]=s.useState(!1),[x,R]=s.useState("eng"),[O,M]=s.useState(0),[w,B]=s.useState(""),[k,C]=s.useState(null),[c,m]=s.useState(null),[u,f]=s.useState("txt"),[p,F]=s.useState(!0),[g,i]=s.useState(!0),[r,o]=s.useState("balanced"),[l,b]=s.useState(1),[D,P]=s.useState(1),[W,I]=s.useState(""),[$,G]=s.useState(""),[X,_]=s.useState(!1),[N,h]=s.useState(!0),[j,L]=s.useState("auto");s.useRef(null);const A=async z=>{var Q,Z;const q=new FormData;q.append("base64Image",z),q.append("language",x),q.append("isOverlayRequired","false"),q.append("detectOrientation",p?"true":"false"),q.append("scale","true"),q.append("OCREngine",r==="accurate"?"2":"1");try{B("ðŸŒ©ï¸ Using Cloud OCR (faster)...");const U=await(await fetch("https://api.ocr.space/parse/image",{method:"POST",headers:{apikey:"K87899142388957"},body:q})).json();if(U.ParsedResults&&U.ParsedResults[0]){const H=U.ParsedResults[0].ParsedText,V=((Z=(Q=U.ParsedResults[0].TextOverlay)==null?void 0:Q.Lines)==null?void 0:Z.length)>0?Math.round(U.ParsedResults[0].TextOverlay.Lines.reduce((ee,se)=>{var fe;return ee+(((fe=se.Words)==null?void 0:fe.reduce((ge,he)=>ge+(he.WordText?90:0),0))||0)},0)/(U.ParsedResults[0].TextOverlay.Lines.length||1)):85;return{text:H,confidence:V}}else throw new Error(U.ErrorMessage||"Cloud OCR failed")}catch(T){return console.warn("Cloud OCR failed, falling back to local OCR:",T),B("âš ï¸ Cloud OCR failed, using local OCR..."),null}},K=z=>{if(!g)return z;const q=z.getContext("2d"),Q=q.getImageData(0,0,z.width,z.height),Z=Q.data;for(let T=0;T<Z.length;T+=4){const U=.299*Z[T]+.587*Z[T+1]+.114*Z[T+2],H=U<128?Math.max(0,U-30):Math.min(255,U+30);Z[T]=Z[T+1]=Z[T+2]=H}return q.putImageData(Q,0,0),z},J=async(z,q=1)=>{const Q=z||t;if(Q){I(""),G(""),E(!0);try{const Z=Q.type==="application/pdf";let T;if(Z){const H=await Q.arrayBuffer(),V=await te.getDocument(H).promise;P(V.numPages);const ee=await V.getPage(q),se=ee.getViewport({scale:1.5});T=document.createElement("canvas"),T.width=se.width,T.height=se.height;const fe=T.getContext("2d");await ee.render({canvasContext:fe,viewport:se}).promise}else{P(1),T=document.createElement("canvas");const H=new Image;await new Promise((ee,se)=>{H.onload=ee,H.onerror=se,H.src=URL.createObjectURL(Q)}),T.width=H.width,T.height=H.height,T.getContext("2d").drawImage(H,0,0)}const U=K(T);m(U.toDataURL()),await Y(U)}catch(Z){I(`âŒ Error loading file: ${Z.message}`),console.error(Z)}finally{E(!1)}}},Y=async z=>{E(!0),M(0),B("Initializing OCR...");try{let q=null;if(N||j==="cloud"||j==="auto"){const Q=z.toDataURL("image/jpeg",.9);q=await A(Q)}if(!q||j==="local"){B("Using local OCR (Tesseract.js)...");const{createWorker:Q}=await de(async()=>{const{createWorker:H}=await import("./vendor_tesseract-D6cijTgP.js").then(V=>V.i);return{createWorker:H}},__vite__mapDeps([3,1,0])),Z=await Q({logger:H=>{if(H.status==="recognizing text"){const V=Math.floor(H.progress*100);M(V),B(`Recognizing text... ${V}%`)}}});B("Loading language data..."),await Z.loadLanguage(x),await Z.initialize(x);const T=r==="fast"?0:r==="accurate"?1:2;await Z.setParameters({tessedit_ocr_engine_mode:T,tessedit_pageseg_mode:p?1:3}),B("Recognizing text...");const{data:U}=await Z.recognize(z);q={text:U.text,confidence:U.confidence?Math.round(U.confidence):null},await Z.terminate()}if(q)C(q.confidence),y(q.text),G(`âœ… OCR completed! Confidence: ${q.confidence}%`),M(100);else throw new Error("OCR failed")}catch(q){I(`âŒ OCR error: ${q.message}`),console.error(q)}finally{E(!1),B("")}};async function ae(z){let q;if(z.type==="application/pdf"){const T=await z.arrayBuffer(),H=await(await te.getDocument({data:T}).promise).getPage(1),V=H.getViewport({scale:1.5});q=document.createElement("canvas"),q.width=Math.ceil(V.width),q.height=Math.ceil(V.height);const ee=q.getContext("2d");await H.render({canvasContext:ee,viewport:V}).promise}else{const T=new Image,U=URL.createObjectURL(z);T.src=U,await new Promise(V=>T.onload=V),q=document.createElement("canvas"),q.width=T.naturalWidth,q.height=T.naturalHeight,q.getContext("2d").drawImage(T,0,0),URL.revokeObjectURL(U)}const Q=K(q);let Z="";if(N||j==="cloud"||j==="auto")try{const T=Q.toDataURL("image/jpeg",.9),U=await A(T);U&&U.text&&(Z=U.text)}catch(T){console.warn("Cloud OCR failed in batch, using local:",T)}if(!Z||j==="local"){const{createWorker:T}=await de(async()=>{const{createWorker:ee}=await import("./vendor_tesseract-D6cijTgP.js").then(se=>se.i);return{createWorker:ee}},__vite__mapDeps([3,1,0])),U=await T();await U.loadLanguage(x),await U.initialize(x);const H=r==="fast"?0:r==="accurate"?1:2;await U.setParameters({tessedit_ocr_engine_mode:H,tessedit_pageseg_mode:p?1:3});const{data:{text:V}}=await U.recognize(Q);Z=V,await U.terminate()}return new Blob([Z],{type:"text/plain"})}const re=()=>{if(!a)return;let z,q=`ocr_result.${u}`;switch(u){case"txt":z=new Blob([a],{type:"text/plain"});break;case"json":z=new Blob([JSON.stringify({text:a,confidence:k,language:x,timestamp:new Date().toISOString()},null,2)],{type:"application/json"});break;case"csv":const T=`"Text","Confidence","Language"
"${a.replace(/"/g,'""')}","${k}%","${x}"`;z=new Blob([T],{type:"text/csv"});break;default:z=new Blob([a],{type:"text/plain"})}const Q=URL.createObjectURL(z),Z=document.createElement("a");Z.href=Q,Z.download=q,Z.click(),URL.revokeObjectURL(Q)},oe=z=>{const q=z.target.files[0];q&&(v(q),y(""),C(null),m(null),J(q,l))};return s.useEffect(()=>{t&&t.type==="application/pdf"&&l>0&&J(t,l)},[l]),e.jsxs("div",{style:{maxWidth:520,margin:"0 auto",padding:12},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:16},children:"OCR Text Extraction"}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:8,marginBottom:16},children:[e.jsx("button",{className:d?"btn-outline":"btn-primary",onClick:()=>S(!1),style:{minWidth:120},children:"ðŸ“„ Single File"}),e.jsx("button",{className:d?"btn-primary":"btn-outline",onClick:()=>S(!0),style:{minWidth:120},children:"ðŸ”„ Batch Mode"})]}),d?e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16,padding:12,background:"#f8fafc",borderRadius:8,border:"1px solid #e2e8f0"},children:[e.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:16},children:"âš™ï¸ Batch OCR Settings"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:4,fontSize:13,fontWeight:600},children:"ðŸŒ©ï¸ OCR Engine"}),e.jsxs("select",{value:j,onChange:z=>L(z.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #d1d5db",fontSize:14},children:[e.jsx("option",{value:"auto",children:"ðŸš€ Auto (Cloud â†’ Local)"}),e.jsx("option",{value:"cloud",children:"ðŸŒ©ï¸ Cloud Only (Faster)"}),e.jsx("option",{value:"local",children:"ðŸ’» Local Only (Private)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:4,fontSize:13,fontWeight:600},children:"ðŸŒ Language"}),e.jsx("select",{value:x,onChange:z=>R(z.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #d1d5db",fontSize:14},children:Pe.map(z=>e.jsx("option",{value:z.code,children:z.name},z.code))})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:4,fontSize:13,fontWeight:600},children:"ðŸŽ¯ Quality Mode"}),e.jsxs("select",{value:r,onChange:z=>o(z.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #d1d5db",fontSize:14},children:[e.jsx("option",{value:"fast",children:"âš¡ Fast"}),e.jsx("option",{value:"balanced",children:"âš–ï¸ Balanced"}),e.jsx("option",{value:"accurate",children:"ðŸŽ¯ Accurate"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:4,fontSize:13,fontWeight:600},children:"âœ¨ Enhancements"}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,fontSize:13,marginBottom:4},children:[e.jsx("input",{type:"checkbox",checked:g,onChange:z=>i(z.target.checked)}),e.jsx("span",{children:"ðŸŽ¨ Image Enhancement"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,fontSize:13},children:[e.jsx("input",{type:"checkbox",checked:p,onChange:z=>F(z.target.checked)}),e.jsx("span",{children:"ðŸ”„ Auto-Rotate"})]})]})]}),e.jsxs("div",{style:{marginTop:12,fontSize:13,color:"#666",borderTop:"1px solid #e2e8f0",paddingTop:12},children:["ðŸ’¡ ",e.jsx("strong",{children:"Batch Tips:"})," Cloud OCR is 3-5x faster (25k free/month). Auto fallback to local if limit reached."]})]}),e.jsx(ue,{accept:".png,.jpg,.jpeg,.webp,.bmp,.tiff,application/pdf",processFile:ae,outputNameSuffix:"_ocr.txt",taskName:"OCR Text Extraction"})]}):e.jsxs(e.Fragment,{children:[W&&e.jsx("div",{style:{color:"#dc2626",marginBottom:12,background:"#fee2e2",padding:8,borderRadius:6},children:W}),$&&e.jsx("div",{style:{color:"#059669",marginBottom:12,background:"#d1fae5",padding:8,borderRadius:6},children:$}),e.jsx("div",{style:{marginBottom:12,textAlign:"center"},children:e.jsx("button",{onClick:()=>_(!X),className:"btn-outline",style:{fontSize:13},children:X?"â–¼ Hide Advanced Settings":"â–¶ Show Advanced Settings"})}),X&&e.jsxs("div",{style:{marginBottom:16,padding:12,background:"#f8fafc",borderRadius:8,border:"1px solid #e2e8f0"},children:[e.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:16},children:"âš™ï¸ Advanced Settings"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:4,fontSize:13,fontWeight:600},children:"ðŸŒ©ï¸ OCR Engine"}),e.jsxs("select",{value:j,onChange:z=>L(z.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #d1d5db",fontSize:14},children:[e.jsx("option",{value:"auto",children:"ðŸš€ Auto (Cloud â†’ Local)"}),e.jsx("option",{value:"cloud",children:"ðŸŒ©ï¸ Cloud Only (Faster)"}),e.jsx("option",{value:"local",children:"ðŸ’» Local Only (Private)"})]}),e.jsx("small",{style:{color:"#666",display:"block",marginTop:4,fontSize:12},children:"Cloud OCR is 3-5x faster!"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:4,fontSize:13,fontWeight:600},children:"ðŸŒ Language"}),e.jsxs("select",{value:x,onChange:z=>R(z.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #d1d5db",fontSize:14},children:[e.jsx("optgroup",{label:"Popular Languages",children:Pe.filter(z=>z.popular).map(z=>e.jsx("option",{value:z.code,children:z.name},z.code))}),e.jsx("optgroup",{label:"Other Languages",children:Pe.filter(z=>!z.popular).map(z=>e.jsx("option",{value:z.code,children:z.name},z.code))})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:4,fontSize:13,fontWeight:600},children:"ðŸŽ¯ Quality Mode"}),e.jsxs("select",{value:r,onChange:z=>o(z.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #d1d5db",fontSize:14},children:[e.jsx("option",{value:"fast",children:"âš¡ Fast"}),e.jsx("option",{value:"balanced",children:"âš–ï¸ Balanced"}),e.jsx("option",{value:"accurate",children:"ðŸŽ¯ Accurate"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:4,fontSize:13,fontWeight:600},children:"ðŸ’¾ Export Format"}),e.jsxs("select",{value:u,onChange:z=>f(z.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #d1d5db",fontSize:14},children:[e.jsx("option",{value:"txt",children:"ðŸ“„ Plain Text (.txt)"}),e.jsx("option",{value:"json",children:"ðŸ“‹ JSON (.json)"}),e.jsx("option",{value:"csv",children:"ðŸ“Š CSV (.csv)"})]})]})]}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:16,flexWrap:"wrap"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,fontSize:13},children:[e.jsx("input",{type:"checkbox",checked:g,onChange:z=>i(z.target.checked)}),e.jsx("span",{children:"ðŸŽ¨ Image Enhancement"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,fontSize:13},children:[e.jsx("input",{type:"checkbox",checked:p,onChange:z=>F(z.target.checked)}),e.jsx("span",{children:"ðŸ”„ Auto-Rotate Detection"})]})]})]}),e.jsxs("div",{style:{marginBottom:20,textAlign:"center"},children:[e.jsx("label",{htmlFor:"ocr-file-input",className:"btn-primary",style:{cursor:"pointer",fontSize:14},children:"ðŸ“ Choose File to Extract Text"}),e.jsx("input",{id:"ocr-file-input",type:"file",accept:".png,.jpg,.jpeg,.webp,.bmp,.tiff,application/pdf",onChange:oe,style:{display:"none"}}),t&&e.jsxs("div",{style:{marginTop:8,color:"#64748b",fontSize:13},children:["âœ… ",t.name]})]}),t&&t.type==="application/pdf"&&D>1&&e.jsxs("div",{style:{marginBottom:16,textAlign:"center",fontSize:13},children:[e.jsx("label",{style:{marginRight:8},children:"ðŸ“„ Page:"}),e.jsx("input",{type:"number",min:"1",max:D,value:l,onChange:z=>b(Math.min(D,Math.max(1,parseInt(z.target.value)||1))),style:{width:80,padding:6,borderRadius:4,border:"1px solid #d1d5db"}}),e.jsxs("span",{style:{marginLeft:8,color:"#64748b"},children:["of ",D]})]}),n&&e.jsxs("div",{style:{marginBottom:16,padding:16,background:"#f8fafc",borderRadius:8,textAlign:"center",border:"1px solid #e2e8f0"},children:[e.jsx("div",{style:{marginBottom:12},children:e.jsx("div",{style:{width:40,height:40,border:"3px solid #e2e8f0",borderTop:"3px solid var(--primary)",borderRadius:"50%",margin:"0 auto",animation:"spin 1s linear infinite"}})}),e.jsx("div",{style:{fontWeight:600,marginBottom:8,fontSize:14},children:w}),e.jsx("div",{style:{width:"100%",background:"#e2e8f0",borderRadius:8,overflow:"hidden",height:16},children:e.jsx("div",{style:{width:`${O}%`,height:"100%",background:"var(--primary)",transition:"width 0.3s"}})}),e.jsxs("div",{style:{marginTop:6,fontSize:12,color:"#64748b"},children:[O,"%"]})]}),c&&!n&&e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("h3",{style:{fontSize:15,marginBottom:8},children:["ðŸ“· Preview ",g&&"(Enhanced)"]}),e.jsx("img",{src:c,alt:"Preview",style:{maxWidth:"100%",height:"auto",border:"1px solid #e2e8f0",borderRadius:8}})]}),a&&!n&&e.jsxs("div",{style:{marginTop:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[e.jsxs("h3",{style:{margin:0,fontSize:15},children:["ðŸ“ Extracted Text",k&&e.jsxs("span",{style:{marginLeft:10,fontSize:13,color:k>80?"#059669":k>60?"#f59e0b":"#dc2626",fontWeight:600},children:["(",k,"% confident)"]})]}),e.jsxs("button",{onClick:re,className:"btn-primary",style:{fontSize:13},children:["ðŸ’¾ Export ",u.toUpperCase()]})]}),e.jsx("pre",{style:{whiteSpace:"pre-wrap",background:"#f8fafc",padding:16,borderRadius:8,border:"1px solid #e2e8f0",maxHeight:400,overflow:"auto",lineHeight:1.6,fontSize:13},children:a}),e.jsxs("div",{style:{marginTop:8,fontSize:12,color:"#64748b"},children:["ðŸ“Š ",a.length," chars Â· ",a.split(/\s+/).filter(Boolean).length," words Â· ",a.split(`
`).length," lines"]})]}),!t&&e.jsxs("div",{style:{marginTop:20,padding:16,background:"#f8fafc",borderRadius:8,border:"1px solid #e2e8f0"},children:[e.jsx("h3",{style:{fontSize:15,marginBottom:12},children:"ðŸ’¡ Tips for Best Results"}),e.jsxs("ul",{style:{lineHeight:1.8,fontSize:13,color:"#475569",paddingLeft:20},children:[e.jsx("li",{children:"Use high-resolution images (300 DPI or higher)"}),e.jsx("li",{children:"Ensure good contrast between text and background"}),e.jsx("li",{children:"Avoid skewed images or enable Auto-Rotate"}),e.jsx("li",{children:"Select the correct language for better accuracy"}),e.jsx("li",{children:'Use "Accurate" mode for important documents'}),e.jsx("li",{children:"Enable Image Enhancement for scanned documents"})]})]})]}),e.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function tt(){const[t,v]=s.useState(null),[a,y]=s.useState("bottom-right"),[n,E]=s.useState(1),[d,S]=s.useState(!1),[x,R]=s.useState(""),[O,M]=s.useState(!1);async function w(C){var m;const c=(m=C.target.files)==null?void 0:m[0];c&&(v(c),R(pe(c,"_pagenums")))}async function B(C){const c=await C.arrayBuffer(),m=await ie.load(c),u=m.getPages(),f=await m.embedFont(we.Helvetica);for(let F=0;F<u.length;F++){const g=u[F],{width:i,height:r}=g.getSize(),o=String(Number(n)+F),l=12;let b=i-40,D=20;a==="bottom-left"&&(b=20),a==="top-right"&&(D=r-20),a==="top-left"&&(b=20,D=r-20),g.drawText(o,{x:b,y:D,size:l,font:f,color:me(0,0,0)})}const p=await m.save();return new Blob([p],{type:"application/pdf"})}async function k(){if(!t)return alert("Select a PDF");S(!0);try{const C=await t.arrayBuffer(),c=await ie.load(C),m=c.getPages(),u=await c.embedFont(we.Helvetica);for(let i=0;i<m.length;i++){const r=m[i],{width:o,height:l}=r.getSize(),b=String(Number(n)+i),D=12;let P=o-40,W=20;a==="bottom-left"&&(P=20),a==="top-right"&&(W=l-20),a==="top-left"&&(P=20,W=l-20),r.drawText(b,{x:P,y:W,size:D,font:u,color:me(0,0,0)})}const f=await c.save(),p=new Blob([f],{type:"application/pdf"}),F=URL.createObjectURL(p),g=document.createElement("a");g.href=F,g.download=le(x,t.name.replace(/\.pdf$/i,"")+"_pagenums"),g.click(),URL.revokeObjectURL(F)}catch(C){console.error(C),alert("Failed: "+C.message)}finally{S(!1)}}return e.jsxs("div",{children:[e.jsx("h2",{children:"Page Numbers"}),e.jsx("div",{style:{marginBottom:12},children:e.jsx("button",{onClick:()=>M(!O),style:{padding:"6px 12px",borderRadius:4,border:"1px solid #ccc",background:O?"#3b82f6":"#fff",color:O?"#fff":"#000",cursor:"pointer"},children:O?"Switch to Single Mode":"Switch to Batch Mode"})}),O?e.jsx(ue,{accept:"application/pdf",processFile:B,outputNameSuffix:"_pagenums",taskName:`Add page numbers (${a}, start: ${n})`}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",accept:"application/pdf",onChange:w}),e.jsxs("div",{style:{marginTop:8},children:[e.jsx("label",{children:"Position"}),e.jsxs("select",{value:a,onChange:C=>y(C.target.value),children:[e.jsx("option",{value:"bottom-right",children:"Bottom Right"}),e.jsx("option",{value:"bottom-left",children:"Bottom Left"}),e.jsx("option",{value:"top-right",children:"Top Right"}),e.jsx("option",{value:"top-left",children:"Top Left"})]}),e.jsx("label",{style:{marginLeft:8},children:"Start"}),e.jsx("input",{type:"number",value:n,onChange:C=>E(C.target.value),style:{width:80,marginLeft:6}})]}),t&&e.jsx(ce,{value:x,onChange:C=>R(C.target.value),disabled:d,placeholder:"output_pagenums"}),e.jsx("div",{style:{marginTop:12},children:e.jsx("button",{className:"btn-primary",onClick:k,disabled:d,children:d?"Working...":"Add Page Numbers"})})]})]})}try{te.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${te.version}/pdf.worker.min.js`}catch(t){console.warn("pdfjs worker not set",t)}function st(){const[t,v]=s.useState(!1),[a,y]=s.useState(null),[n,E]=s.useState(!1),[d,S]=s.useState([]),[x,R]=s.useState("");async function O(k){const C=k.target.files[0];if(C){y(C),S([]),R(pe(C));try{const c=await C.arrayBuffer(),m=await te.getDocument({data:c}).promise,u=[];for(let f=1;f<=m.numPages;f++){const p=await m.getPage(f),F=p.getViewport({scale:1.5}),g=document.createElement("canvas");g.width=Math.ceil(F.width),g.height=Math.ceil(F.height);const i=g.getContext("2d");await p.render({canvasContext:i,viewport:F}).promise;const r=g.toDataURL("image/png");u.push({dataUrl:r,selected:!0})}S(u)}catch(c){console.error(c),alert("Failed to render preview: "+c.message)}}}function M(k){S(C=>C.map((c,m)=>m===k?{...c,selected:!c.selected}:c))}async function w(){if(!(!a||d.length===0)){E(!0);try{const k=(await de(async()=>{const{default:c}=await import("./vendor_pptxgenjs-CwEE9IK9.js");return{default:c}},__vite__mapDeps([4,2,1,0]))).default,C=new k;for(const c of d){if(!c.selected)continue;C.addSlide().addImage({data:c.dataUrl,x:0,y:0,w:"100%",h:"100%"})}await C.writeFile({fileName:le(x,a.name.replace(/\.pdf$/i,""),".pptx")})}catch(k){console.error(k),alert("Conversion failed: "+k.message)}finally{E(!1)}}}async function B(k,C){try{C(10);const c=await k.arrayBuffer();C(20);const m=await te.getDocument({data:c}).promise,u=m.numPages;C(30);const f=(await de(async()=>{const{default:g}=await import("./vendor_pptxgenjs-CwEE9IK9.js");return{default:g}},__vite__mapDeps([4,2,1,0]))).default,p=new f;for(let g=1;g<=u;g++){const i=await m.getPage(g),r=i.getViewport({scale:1.5}),o=document.createElement("canvas");o.width=Math.ceil(r.width),o.height=Math.ceil(r.height);const l=o.getContext("2d");await i.render({canvasContext:l,viewport:r}).promise;const b=o.toDataURL("image/png");p.addSlide().addImage({data:b,x:0,y:0,w:"100%",h:"100%"}),C(30+g/u*60)}C(90);const F=await p.write({outputType:"blob"});return C(100),F}catch(c){throw new Error(`Failed to convert PDF to PPTX: ${c.message||c}`)}}return e.jsxs("div",{children:[e.jsx("h2",{children:"PDF â†’ PPTX"}),e.jsxs("div",{style:{display:"flex",gap:8,marginBottom:16,borderBottom:"2px solid var(--border)",paddingBottom:8},children:[e.jsx("button",{onClick:()=>v(!1),disabled:n,style:{padding:"8px 16px",backgroundColor:t?"transparent":"var(--primary)",color:t?"var(--text)":"white",border:t?"1px solid var(--border)":"none",borderRadius:4,cursor:"pointer",fontWeight:t?"normal":"bold"},children:"ðŸ“„ Single File"}),e.jsx("button",{onClick:()=>v(!0),disabled:n,style:{padding:"8px 16px",backgroundColor:t?"var(--primary)":"transparent",color:t?"white":"var(--text)",border:t?"none":"1px solid var(--border)",borderRadius:4,cursor:"pointer",fontWeight:t?"bold":"normal"},children:"ðŸ“š Batch Process"})]}),t?e.jsxs("div",{children:[e.jsxs("p",{style:{marginBottom:16,padding:12,background:"var(--paper)",border:"1px solid var(--border)",borderRadius:4},children:[e.jsx("strong",{children:"Batch Mode:"})," Convert multiple PDFs to PowerPoint (.pptx) files. Each page becomes a slide with an image.",e.jsx("br",{}),e.jsx("em",{style:{fontSize:"0.9em",color:"var(--muted)"},children:"Note: Slides are exported as images â€” text isn't editable in PowerPoint."})]}),e.jsx(ue,{processFile:B,outputFilenameSuffix:"",acceptedFileTypes:"application/pdf",description:"Convert multiple PDFs to PowerPoint presentations",outputFileExtension:".pptx"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"dropzone",children:[e.jsx("input",{type:"file",accept:"application/pdf",onChange:O}),e.jsx("div",{className:"muted",children:"Select a PDF â€” each page will become a PPTX slide (image). You can preview and deselect pages before export."}),e.jsx("div",{className:"muted",style:{marginTop:6,fontSize:12},children:"Note: slides are exported as images â€” text isn't editable in PowerPoint."})]}),d.length>0&&e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{className:"muted",children:"Preview (click to toggle include)"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(120px,1fr))",gap:8,marginTop:8},children:d.map((k,C)=>e.jsxs("div",{style:{border:k.selected?"2px solid #3b82f6":"1px solid #ddd",padding:6,cursor:"pointer"},onClick:()=>M(C),children:[e.jsx("img",{src:k.dataUrl,style:{width:"100%",height:120,objectFit:"cover"},alt:`page-${C+1}`}),e.jsxs("div",{style:{fontSize:12,marginTop:6,textAlign:"center"},children:["Page ",C+1]})]},C))})]}),a&&e.jsx(ce,{value:x,onChange:k=>R(k.target.value),disabled:n,placeholder:"output"}),e.jsx("div",{style:{marginTop:12},children:e.jsx("button",{className:"btn",onClick:w,disabled:n||d.length===0,children:n?"Converting...":"Convert to PPTX"})})]})]})}function at(){const[t,v]=s.useState(!1),[a,y]=s.useState(null),[n,E]=s.useState(!1),[d,S]=s.useState(""),[x,R]=s.useState(""),[O,M]=s.useState(""),w=ne.useRef(null),B=ne.useRef(null);ne.useEffect(()=>{d&&w.current&&w.current.focus()},[d]),ne.useEffect(()=>{x&&B.current&&B.current.focus()},[x]);function k(m){S(""),R("");const u=m.target.files[0];u&&(y(u),M(pe(u)))}async function C(){if(!a){S("Pilih file PPTX terlebih dahulu.");return}S(""),R(""),E(!0);try{const m=await a.arrayBuffer(),u=await ve.loadAsync(m),f=Object.keys(u.files).filter(F=>F.startsWith("ppt/media/")),p=[];for(const F of f){const g=await u.file(F).async("blob");p.push(g)}if(p.length===0){S("Tidak ditemukan gambar slide di PPTX. Hanya mendukung PPTX dengan gambar slide."),E(!1);return}if(p.length>0){const{jsPDF:F}=await de(async()=>{const{jsPDF:i}=await import("./vendor_jspdf-wCtQMdy0.js").then(r=>r.j);return{jsPDF:i}},__vite__mapDeps([2,1,0])),g=new F({unit:"px",format:"a4"});for(let i=0;i<p.length;i++){const r=p[i],o=URL.createObjectURL(r),l=await new Promise(P=>{const W=new Image;W.onload=()=>P(W),W.src=o}),b=g.internal.pageSize.getWidth(),D=g.internal.pageSize.getHeight();g.addImage(l,"PNG",0,0,b,D),i<p.length-1&&g.addPage(),URL.revokeObjectURL(o)}g.save(le(O,a.name.replace(/\.pptx$/i,""))),R("Berhasil! PDF berhasil dibuat dan diunduh.")}else{const F=new ve;for(let i=0;i<p.length;i++){const r=await p[i].arrayBuffer();F.file(`slide_${i+1}.png`,r)}const g=await F.generateAsync({type:"blob"});Ue.saveAs(g,a.name.replace(/\.pptx$/i,"")+"_slides.zip"),R("Berhasil! ZIP gambar slide diunduh.")}}catch(m){S("Gagal: "+(m.message||m)),console.error(m)}finally{E(!1)}}async function c(m,u){try{u(10);const f=await m.arrayBuffer();u(20);const p=await ve.loadAsync(f),F=Object.keys(p.files).filter(l=>l.startsWith("ppt/media/"));u(40);const g=[];for(const l of F){const b=await p.file(l).async("blob");g.push(b)}if(g.length===0)throw new Error("No slide images found in PPTX. Only supports PPTX with slide images.");u(60);const{jsPDF:i}=await de(async()=>{const{jsPDF:l}=await import("./vendor_jspdf-wCtQMdy0.js").then(b=>b.j);return{jsPDF:l}},__vite__mapDeps([2,1,0])),r=new i({unit:"px",format:"a4"});for(let l=0;l<g.length;l++){const b=g[l],D=URL.createObjectURL(b),P=await new Promise($=>{const G=new Image;G.onload=()=>$(G),G.src=D}),W=r.internal.pageSize.getWidth(),I=r.internal.pageSize.getHeight();r.addImage(P,"PNG",0,0,W,I),l<g.length-1&&r.addPage(),URL.revokeObjectURL(D),u(60+l/g.length*30)}u(90);const o=r.output("blob");return u(100),o}catch(f){throw new Error(`Failed to convert PPTX to PDF: ${f.message||f}`)}}return e.jsxs("div",{style:{maxWidth:520,margin:"0 auto",padding:12},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:16},children:"PPTX â†’ PDF"}),e.jsxs("div",{style:{display:"flex",gap:8,marginBottom:16,borderBottom:"2px solid var(--border)",paddingBottom:8},children:[e.jsx("button",{onClick:()=>v(!1),disabled:n,style:{padding:"8px 16px",backgroundColor:t?"transparent":"var(--primary)",color:t?"var(--text)":"white",border:t?"1px solid var(--border)":"none",borderRadius:4,cursor:"pointer",fontWeight:t?"normal":"bold"},children:"ðŸ“„ Single File"}),e.jsx("button",{onClick:()=>v(!0),disabled:n,style:{padding:"8px 16px",backgroundColor:t?"var(--primary)":"transparent",color:t?"white":"var(--text)",border:t?"none":"1px solid var(--border)",borderRadius:4,cursor:"pointer",fontWeight:t?"bold":"normal"},children:"ðŸ“š Batch Process"})]}),d&&e.jsx("div",{ref:w,tabIndex:-1,"aria-live":"assertive",style:{color:"#dc2626",marginBottom:8,background:"#fee2e2",padding:8,borderRadius:6,outline:"none"},children:d}),x&&e.jsx("div",{ref:B,tabIndex:-1,"aria-live":"polite",style:{color:"#059669",marginBottom:8,background:"#d1fae5",padding:8,borderRadius:6,outline:"none"},children:x}),t?e.jsxs("div",{children:[e.jsxs("p",{style:{marginBottom:16,padding:12,background:"var(--paper)",border:"1px solid var(--border)",borderRadius:4},children:[e.jsx("strong",{children:"Batch Mode:"})," Convert multiple PowerPoint (.pptx) presentations to PDF. Slide images will be converted to PDF pages."]}),e.jsx(ue,{processFile:c,outputFilenameSuffix:"",acceptedFileTypes:".pptx,application/vnd.openxmlformats-officedocument.presentationml.presentation",description:"Convert multiple PowerPoint presentations to PDF",outputFileExtension:".pdf"})]}):e.jsxs("div",{children:[n&&e.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{className:"loader",style:{display:"inline-block",width:24,height:24,border:"3px solid #3b82f6",borderTop:"3px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite",verticalAlign:"middle"}})," ",e.jsx("span",{children:"Memproses, mohon tunggu..."})]}),e.jsxs("div",{className:"dropzone",style:{opacity:n?.6:1,pointerEvents:n?"none":"auto",border:"2px dashed #3b82f6",borderRadius:16,padding:24,marginBottom:16,background:"#f8fafc"},children:[e.jsx("input",{type:"file",accept:".pptx,application/vnd.openxmlformats-officedocument.presentationml.presentation",onChange:k,disabled:n}),e.jsx("div",{className:"muted",children:"Select a PPTX. If the file contains embedded slide images, they'll be converted to PDF pages; otherwise you'll get a ZIP of extracted images."})]}),a&&e.jsx("div",{className:"file-list",style:{margin:"16px 0"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,background:"#f9fafb",borderRadius:8,marginBottom:8,padding:8,opacity:n?.7:1},children:[e.jsx("div",{style:{minWidth:120,maxWidth:180,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:500},children:a.name}),e.jsxs("div",{style:{color:"#888",fontSize:13},children:[(a.size/1024).toFixed(1)," KB"]}),e.jsx("button",{className:"btn",onClick:()=>y(null),disabled:n,children:"Remove"})]})}),a&&e.jsx(ce,{value:O,onChange:m=>M(m.target.value),disabled:n,placeholder:"output"}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,flexWrap:"wrap"},children:[e.jsx("button",{className:"btn-primary",onClick:C,disabled:!a||n,children:n?"Converting...":"Convert to PDF"}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626",marginLeft:"auto"},onClick:()=>{y(null),S(""),R("")},disabled:n||!a,children:"Reset"})]})]})]})}try{te.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${te.version}/pdf.worker.min.js`}catch{}function nt(t,v,a){const y=t.slice(),n=y.splice(v,1)[0];return y.splice(a,0,n),y}function rt(){const[t,v]=s.useState(null),[a,y]=s.useState([]),[n,E]=s.useState(!1),[d,S]=s.useState(""),[x,R]=s.useState(""),[O,M]=s.useState(""),w=ne.useRef(null),B=ne.useRef(null);ne.useEffect(()=>{d&&w.current&&w.current.focus()},[d]),ne.useEffect(()=>{x&&B.current&&B.current.focus()},[x]);async function k(u){S(""),R("");const f=u.target.files[0];if(f){v(f),y([]),M(pe(f,"_reordered")),E(!0);try{const p=await f.arrayBuffer(),F=await te.getDocument({data:p}).promise,g=[];for(let i=1;i<=F.numPages;i++){const r=await F.getPage(i),o=r.getViewport({scale:1}),l=document.createElement("canvas");l.width=Math.ceil(o.width),l.height=Math.ceil(o.height);const b=l.getContext("2d");await r.render({canvasContext:b,viewport:o}).promise,g.push({thumb:l.toDataURL("image/png"),idx:i-1})}y(g),R("Berhasil memuat PDF.")}catch(p){S("Gagal memuat PDF: "+(p.message||p)),console.error(p)}E(!1)}}function C(u,f){u.dataTransfer.setData("text/plain",f)}function c(u,f){u.preventDefault();const p=parseInt(u.dataTransfer.getData("text/plain"),10);y(F=>nt(F,p,f))}async function m(){if(!t){S("Pilih file PDF terlebih dahulu.");return}S(""),R(""),E(!0);try{const u=await t.arrayBuffer(),f=await ie.load(u),p=await ie.create(),F=a.map(b=>b.idx);(await p.copyPages(f,F)).forEach(b=>p.addPage(b));const i=await p.save(),r=new Blob([i],{type:"application/pdf"}),o=URL.createObjectURL(r),l=document.createElement("a");l.href=o,l.download=le(O,t.name.replace(/\.pdf$/i,"")+"_reordered"),l.click(),URL.revokeObjectURL(o),R("Berhasil! PDF berhasil diekspor dan diunduh.")}catch(u){S("Gagal ekspor PDF: "+(u.message||u)),console.error(u)}E(!1)}return e.jsxs("div",{style:{maxWidth:520,margin:"0 auto",padding:12},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:16},children:"Reorder Pages"}),d&&e.jsx("div",{ref:w,tabIndex:-1,"aria-live":"assertive",style:{color:"#dc2626",marginBottom:8,background:"#fee2e2",padding:8,borderRadius:6,outline:"none"},children:d}),x&&e.jsx("div",{ref:B,tabIndex:-1,"aria-live":"polite",style:{color:"#059669",marginBottom:8,background:"#d1fae5",padding:8,borderRadius:6,outline:"none"},children:x}),n&&e.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{className:"loader",style:{display:"inline-block",width:24,height:24,border:"3px solid #3b82f6",borderTop:"3px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite",verticalAlign:"middle"}})," ",e.jsx("span",{children:"Memproses, mohon tunggu..."})]}),e.jsxs("div",{className:"dropzone",style:{opacity:n?.6:1,pointerEvents:n?"none":"auto",border:"2px dashed #3b82f6",borderRadius:16,padding:24,marginBottom:16,background:"#f8fafc"},children:[e.jsx("input",{type:"file",accept:"application/pdf",onChange:k,disabled:n}),e.jsx("div",{className:"muted",children:"Drag thumbnails to reorder pages, then export."})]}),t&&e.jsx("div",{className:"file-list",style:{margin:"16px 0"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,background:"#f9fafb",borderRadius:8,marginBottom:8,padding:8,opacity:n?.7:1},children:[e.jsx("div",{style:{minWidth:120,maxWidth:180,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:500},children:t.name}),e.jsxs("div",{style:{color:"#888",fontSize:13},children:[(t.size/1024).toFixed(1)," KB"]}),e.jsx("button",{className:"btn",onClick:()=>{v(null),y([]),S(""),R("")},disabled:n,children:"Remove"})]})}),a.length>0&&e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(100px,1fr))",gap:8},children:a.map((u,f)=>e.jsxs("div",{className:"file-item",draggable:!n,onDragStart:p=>!n&&C(p,f),onDragOver:p=>p.preventDefault(),onDrop:p=>!n&&c(p,f),style:{textAlign:"center",opacity:n?.7:1},children:[e.jsx("img",{src:u.thumb,style:{width:"100%",height:100,objectFit:"cover"},alt:`page-${f+1}`}),e.jsxs("div",{style:{fontSize:12,marginTop:6},children:["Pos ",f+1]})]},f))}),t&&e.jsx(ce,{value:O,onChange:u=>M(u.target.value),disabled:n,placeholder:"output_reordered"}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,flexWrap:"wrap"},children:[e.jsx("button",{className:"btn-primary",onClick:m,disabled:n,children:n?"Exporting...":"Export Reordered PDF"}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626",marginLeft:"auto"},onClick:()=>{v(null),y([]),S(""),R("")},disabled:n||!t,children:"Reset"})]})]})]})}function ot(){const[t,v]=s.useState(!1),[a,y]=s.useState(90),[n,E]=s.useState(null),[d,S]=s.useState([]),[x,R]=s.useState(!1),[O,M]=s.useState(""),[w,B]=s.useState(""),[k,C]=s.useState(""),c=s.useRef(null),m=s.useRef(null);s.useEffect(()=>{O&&c.current&&c.current.focus()},[O]),s.useEffect(()=>{w&&m.current&&m.current.focus()},[w]);async function u(i){const r=i.target.files[0];if(r){if(M(""),B(""),!r.type.includes("pdf")){M("Please select a PDF file.");return}if(r.size>50*1024*1024){M("File too large (max 50MB).");return}try{E(r),C(pe(r,"_rotated"));const o=await r.arrayBuffer(),l=await ie.load(o);S(new Array(l.getPageCount()).fill(!1)),B(`Loaded ${l.getPageCount()} pages successfully!`)}catch(o){console.error(o),M("Failed to load PDF: "+o.message),E(null),S([])}}}function f(i){S(r=>r.map((o,l)=>l===i?!o:o))}async function p(i){if(!n)return;const r=d.filter(o=>o).length;if(r===0){M("Please select at least one page to rotate.");return}M(""),B(""),R(!0);try{const o=await n.arrayBuffer(),l=await ie.load(o),b=await ie.create(),D=l.getPageCount(),P=[...Array(D).keys()];(await b.copyPages(l,P)).forEach((_,N)=>{if(d[N]){const j=i==="cw"?90:270;_.setRotation(j)}b.addPage(_)});const I=await b.save(),$=new Blob([I],{type:"application/pdf"}),G=URL.createObjectURL($),X=document.createElement("a");X.href=G,X.download=le(k,n.name.replace(/\.pdf$/i,"")+"_rotated"),X.click(),URL.revokeObjectURL(G),B(`Successfully rotated ${r} page(s) and downloaded!`)}catch(o){console.error(o),M("Rotation failed: "+o.message)}finally{R(!1)}}function F(){E(null),S([]),C(""),M(""),B("")}const g=async(i,r,o)=>{try{o(10);const l=await i.arrayBuffer(),b=await ie.load(l);o(30);const D=b.getPageCount();for(let I=0;I<D;I++)b.getPage(I).setRotation({angle:a}),o(30+I/D*50);o(80);const P=await b.save();o(95);const W=new Blob([P],{type:"application/pdf"});return o(100),W}catch(l){throw console.error(`Error rotating ${i.name}:`,l),l}};return e.jsxs("div",{children:[e.jsx("h2",{children:"Rotate Pages"}),e.jsx("p",{className:"muted",children:"Select pages and rotate them clockwise or counter-clockwise."}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:8,marginBottom:16},children:[e.jsx("button",{className:t?"btn-outline":"btn-primary",onClick:()=>v(!1),style:{minWidth:120},children:"ðŸ“„ Single PDF"}),e.jsx("button",{className:t?"btn-primary":"btn-outline",onClick:()=>v(!0),style:{minWidth:120},children:"ðŸ”„ Batch Rotate"})]}),t&&e.jsx(ue,{toolName:"Rotate PDFs",processFile:g,acceptedTypes:".pdf",outputExtension:".pdf",maxFiles:100,customOptions:e.jsxs("div",{style:{padding:"12px 0"},children:[e.jsxs("div",{style:{fontSize:14,color:"#666",marginBottom:8},children:["ðŸ’¡ ",e.jsx("strong",{children:"Batch Rotate Mode:"})," Rotate all pages in multiple PDFs at once."]}),e.jsx("div",{style:{marginBottom:12},children:e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:["Rotation:",e.jsxs("select",{value:a,onChange:i=>y(Number(i.target.value)),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ddd"},children:[e.jsx("option",{value:90,children:"90Â° (Clockwise)"}),e.jsx("option",{value:180,children:"180Â° (Upside Down)"}),e.jsx("option",{value:270,children:"270Â° (Counter-clockwise)"})]})]})}),e.jsxs("div",{style:{fontSize:13,color:"#888"},children:["ðŸ”„ All pages in each PDF will be rotated",e.jsx("br",{}),"ðŸ“¦ Download individual files or all as ZIP",e.jsx("br",{}),"âš¡ Process up to 100 PDFs simultaneously"]})]})}),!t&&e.jsxs("div",{children:[O&&e.jsxs("div",{className:"error-message",ref:c,tabIndex:-1,role:"alert",children:["âš ï¸ ",O]}),w&&e.jsxs("div",{className:"success-message",ref:m,tabIndex:-1,role:"status",children:["âœ… ",w]}),e.jsxs("div",{className:"dropzone",children:[e.jsx("input",{type:"file",accept:"application/pdf",onChange:u,disabled:x,"aria-label":"Upload PDF to rotate"}),e.jsx("div",{className:"muted",children:"Load a PDF then select pages to rotate."})]}),n&&e.jsxs("div",{className:"file-info",children:[e.jsx("strong",{children:"ðŸ“„ File:"})," ",n.name," (",(n.size/1024).toFixed(1)," KB)"]}),d.length>0&&e.jsxs("div",{style:{marginTop:16},children:[e.jsxs("div",{className:"muted",style:{marginBottom:12},children:["Click pages to toggle selection for rotation. Selected: ",d.filter(i=>i).length," / ",d.length]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(120px,1fr))",gap:8,marginBottom:16},children:d.map((i,r)=>e.jsxs("div",{className:"file-item",onClick:()=>f(r),style:{cursor:"pointer",background:i?"#eef2ff":"",border:i?"2px solid #4f46e5":"1px solid var(--border)",fontWeight:i?"600":"400"},role:"checkbox","aria-checked":i,tabIndex:0,onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&f(r)},children:["ðŸ“„ Page ",r+1]},r))}),n&&e.jsx(ce,{value:k,onChange:i=>C(i.target.value),disabled:x,placeholder:"rotated"}),e.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",alignItems:"center"},children:[e.jsx("button",{className:"btn",onClick:()=>p("cw"),disabled:x||d.filter(i=>i).length===0,children:x?"â³ Processing...":"â†» Rotate Clockwise"}),e.jsx("button",{className:"btn",onClick:()=>p("ccw"),disabled:x||d.filter(i=>i).length===0,children:x?"â³ Processing...":"â†º Rotate Counter-Clockwise"}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626",marginLeft:"auto"},onClick:F,disabled:x,children:"Reset"})]})]})]})]})}try{te.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${te.version}/pdf.worker.min.js`}catch{}function it({ov:t,onDrag:v,onStartDrag:a,onStartResize:y}){return e.jsxs("div",{className:"sig-overlay",style:{left:t.x,top:t.y,width:t.w,height:t.h},onMouseDown:a,children:[e.jsx("img",{src:t.dataUrl,className:"sig-image",alt:"sig"}),e.jsx("div",{className:"sig-resize",onMouseDown:y})]})}function lt(){const[t,v]=s.useState(!1),[a,y]=s.useState(null),[n,E]=s.useState([]),[d,S]=s.useState(null),[x,R]=s.useState([]),[O,M]=s.useState(null),w=s.useRef([]),[B,k]=s.useState(!1),C=s.useRef(null),c=s.useRef(null),[m,u]=s.useState(""),[f,p]=s.useState(""),[F,g]=s.useState(""),i=s.useRef(null),r=s.useRef(null);s.useEffect(()=>{m&&i.current&&i.current.focus()},[m]),s.useEffect(()=>{f&&r.current&&r.current.focus()},[f]),s.useEffect(()=>{function N(j){if(!c.current)return;const{type:L,idx:A,startX:K,startY:J,startW:Y,startH:ae,page:re}=c.current,oe=j.clientX-K,z=j.clientY-J;R(q=>{const Q=q.slice(),Z={...Q[A]};return L==="move"?(Z.x=Math.max(0,K+oe-Q[`_pageOffset${re}`]),Z.y=Math.max(0,J+z-Q[`_pageOffsetY${re}`])):L==="resize"&&(Z.w=Math.max(10,Y+oe),Z.h=Math.max(10,ae+z)),Q[A]=Z,Q})}function h(){c.current=null}return window.addEventListener("mousemove",N),window.addEventListener("mouseup",h),()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",h)}},[]);async function o(N){var j;const h=(j=N.target.files)==null?void 0:j[0];if(h){if(u(""),p(""),!h.type.includes("pdf")){u("Please select a PDF file.");return}if(h.size>50*1024*1024){u("File too large (max 50MB).");return}try{y(h),g(pe(h,"_signed")),await b(h),p("PDF loaded successfully! Upload or draw a signature.")}catch(L){console.error(L),u("Failed to load PDF: "+L.message),y(null),E([])}}}function l(N){var L;const h=(L=N.target.files)==null?void 0:L[0];if(!h)return;if(u(""),!h.type.startsWith("image/")){u("Please select an image file.");return}const j=new FileReader;j.onload=()=>{S(j.result),p('Signature image loaded! Click "Add" on any page to place it.')},j.onerror=()=>u("Failed to read image file."),j.readAsDataURL(h)}async function b(N){const h=await N.arrayBuffer(),L=await te.getDocument({data:h}).promise,A=[];for(let K=1;K<=L.numPages;K++){const J=await L.getPage(K),Y=J.getViewport({scale:1.5}),ae=document.createElement("canvas");ae.width=Math.floor(Y.width),ae.height=Math.floor(Y.height);const re=ae.getContext("2d");await J.render({canvasContext:re,viewport:Y}).promise,A.push({canvas:ae,width:ae.width,height:ae.height,viewportWidth:Y.width,viewportHeight:Y.height})}E(A),R([])}function D(N,h){N.preventDefault();const L=x[h].page,K=n[L].canvas.getBoundingClientRect();R(J=>{const Y=J.slice();return Y[`_pageOffset${L}`]=K.left,Y[`_pageOffsetY${L}`]=K.top,Y}),M(h),c.current={type:"move",idx:h,startX:N.clientX,startY:N.clientY,page:L}}function P(N,h){N.preventDefault();const j=x[h];c.current={type:"resize",idx:h,startX:N.clientX,startY:N.clientY,startW:j.w,startH:j.h}}function W(N){if(!d){u("Please upload a signature image first.");return}const h=n[N];if(!h)return;const j=Math.min(200,h.width*.4),L=Math.min(80,h.height*.15),A=(h.width-j)/2,K=(h.height-L)/2;R(J=>{const Y=J.concat({page:N,x:A,y:K,w:j,h:L,dataUrl:d});return w.current.push(J),Y}),p(`Signature added to page ${N+1}. Drag to reposition or resize.`)}function I(){O!==null&&(R(N=>{const h=N.slice();return h.splice(O,1),w.current.push(N),h}),M(null))}function $(){const N=w.current.pop();N&&R(N)}async function G(){if(!a){u("Please select a PDF first.");return}if(x.length===0){u("Please place at least one signature before exporting.");return}u(""),p(""),k(!0);try{const N=await a.arrayBuffer(),h=await ie.load(N),j=await(await fetch(d)).arrayBuffer(),L=String(d).startsWith("data:image/jpeg")||String(d).startsWith("data:image/jpg");let A=null;if(L)try{A=await h.embedJpg(j)}catch{A=await h.embedPng(j)}else try{A=await h.embedPng(j)}catch{A=await h.embedJpg(j)}for(const re of x){const oe=h.getPages()[re.page],{width:z,height:q}=oe.getSize(),Q=n[re.page],Z=Q.width,T=Q.height,U=z/Z,H=q/T,V=re.x*U,ee=q-(re.y+re.h)*H,se=re.w*U,fe=re.h*H;oe.drawImage(A,{x:V,y:ee,width:se,height:fe})}const K=await h.save(),J=new Blob([K],{type:"application/pdf"}),Y=URL.createObjectURL(J),ae=document.createElement("a");ae.href=Y,ae.download=le(F,a.name.replace(/\.pdf$/i,"")+"_signed"),ae.click(),URL.revokeObjectURL(Y),p(`Successfully signed PDF with ${x.length} signature(s) and downloaded!`)}catch(N){console.error(N),u("Failed to export signed PDF: "+(N.message||N))}finally{k(!1)}}async function X(N,h){try{if(!d)throw new Error("Please upload a signature image first.");h(10);const j=await N.arrayBuffer();h(30);const L=await ie.load(j);h(50);const A=await(await fetch(d)).arrayBuffer(),K=String(d).startsWith("data:image/jpeg")||String(d).startsWith("data:image/jpg");let J=null;if(K)try{J=await L.embedJpg(A)}catch{J=await L.embedPng(A)}else try{J=await L.embedPng(A)}catch{J=await L.embedJpg(A)}h(60);const Y=L.getPages();for(let oe=0;oe<Y.length;oe++){const z=Y[oe],{width:q,height:Q}=z.getSize(),Z=150,T=60,U=q-Z-20;z.drawImage(J,{x:U,y:20,width:Z,height:T}),h(60+oe/Y.length*30)}h(90);const ae=await L.save(),re=new Blob([ae],{type:"application/pdf"});return h(100),re}catch(j){throw new Error(`Failed to sign PDF: ${j.message||j}`)}}function _(){y(null),E([]),S(null),R([]),M(null),w.current=[],g(""),u(""),p(""),v(!1)}return e.jsxs("div",{children:[e.jsx("h2",{children:"Add Signature to PDF"}),e.jsx("p",{className:"muted",children:"Upload a PDF and signature image, then place and position signatures on pages."}),e.jsxs("div",{style:{display:"flex",gap:8,marginBottom:16,borderBottom:"2px solid var(--border)",paddingBottom:8},children:[e.jsx("button",{onClick:()=>v(!1),disabled:B,style:{padding:"8px 16px",backgroundColor:t?"transparent":"var(--primary)",color:t?"var(--text)":"white",border:t?"1px solid var(--border)":"none",borderRadius:4,cursor:"pointer",fontWeight:t?"normal":"bold"},children:"ðŸ“„ Single File"}),e.jsx("button",{onClick:()=>v(!0),disabled:B,style:{padding:"8px 16px",backgroundColor:t?"var(--primary)":"transparent",color:t?"white":"var(--text)",border:t?"none":"1px solid var(--border)",borderRadius:4,cursor:"pointer",fontWeight:t?"bold":"normal"},children:"ðŸ“š Batch Process"})]}),m&&e.jsxs("div",{className:"error-message",ref:i,tabIndex:-1,role:"alert",children:["âš ï¸ ",m]}),f&&e.jsxs("div",{className:"success-message",ref:r,tabIndex:-1,role:"status",children:["âœ… ",f]}),t?e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:16},children:e.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:6},children:[e.jsx("strong",{children:"Upload Signature Image"}),e.jsx("input",{"aria-label":"Upload signature image",type:"file",accept:"image/*",onChange:l,disabled:B})]})}),d&&e.jsxs("div",{style:{marginBottom:16,padding:12,border:"1px solid var(--border)",borderRadius:4},children:[e.jsx("strong",{children:"âœ… Signature loaded!"}),e.jsx("p",{className:"muted",style:{marginTop:8},children:"In batch mode, the signature will be automatically placed in the bottom-right corner of all pages in each PDF."})]}),e.jsx(ue,{processFile:X,outputFilenameSuffix:"_signed",acceptedFileTypes:"application/pdf",description:"Add signatures to multiple PDFs automatically"})]}):e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:16},children:[e.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:6},children:[e.jsx("strong",{children:"1. Select PDF"}),e.jsx("input",{"aria-label":"Select PDF file",type:"file",accept:"application/pdf",onChange:o,disabled:B})]}),e.jsxs("label",{style:{display:"flex",flexDirection:"column",gap:6},children:[e.jsx("strong",{children:"2. Upload Signature Image"}),e.jsx("input",{"aria-label":"Upload signature image",type:"file",accept:"image/*",onChange:l,disabled:B})]})]}),a&&e.jsxs("div",{className:"file-info",children:[e.jsx("strong",{children:"ðŸ“„ PDF:"})," ",a.name," (",(a.size/1024).toFixed(1)," KB) |",e.jsx("strong",{children:" ðŸ“ Signatures placed:"})," ",x.length]}),e.jsx("div",{style:{marginTop:12},children:e.jsx("div",{className:"muted",children:`Click a page's "Add" button to place signature, then drag to reposition or resize.`})}),e.jsx("div",{ref:C,style:{marginTop:12,display:"flex",flexDirection:"column",gap:18},children:n.map((N,h)=>e.jsxs("div",{style:{position:"relative",border:"1px solid var(--border)",display:"inline-block"},children:[e.jsx("div",{style:{position:"absolute",right:8,top:8,zIndex:10},children:e.jsx("button",{className:"btn-ghost",onClick:()=>W(h),children:"Add"})}),e.jsx("div",{style:{position:"relative"},children:e.jsx("div",{style:{position:"relative"},children:e.jsxs("div",{style:{position:"relative"},children:[e.jsxs("div",{style:{width:N.width,height:N.height},children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:""}}),e.jsx("div",{ref:j=>{j&&!j.firstChild&&j.appendChild(N.canvas)}})]}),x.map((j,L)=>j.page===h?e.jsx(it,{ov:j,onStartDrag:A=>D(A,L),onStartResize:A=>P(A,L)},L):null)]})})})]},h))}),a&&e.jsx(ce,{value:F,onChange:N=>g(N.target.value),disabled:B,placeholder:"signed"}),e.jsxs("div",{style:{marginTop:16,display:"flex",gap:12,flexWrap:"wrap",alignItems:"center"},children:[e.jsx("button",{className:"btn-primary",onClick:G,disabled:B||!a||x.length===0,children:B?"â³ Processing...":"ðŸ“¥ Export Signed PDF"}),e.jsx("button",{className:"btn-ghost",onClick:I,disabled:O===null||B,children:"ðŸ—‘ï¸ Delete Selected"}),e.jsx("button",{className:"btn-ghost",onClick:$,disabled:w.current.length===0||B,children:"â†¶ Undo"}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626",marginLeft:"auto"},onClick:_,disabled:B,children:"Reset"})]})]})]})}function ct(){const[t,v]=s.useState(!1),[a,y]=s.useState(null),[n,E]=s.useState("text"),[d,S]=s.useState("Sample Watermark"),[x,R]=s.useState(.25),[O,M]=s.useState(30),[w,B]=s.useState(1),[k,C]=s.useState(!1),[c,m]=s.useState(null),[u,f]=s.useState(null),[p,F]=s.useState(!1),[g,i]=s.useState(""),[r,o]=s.useState(""),[l,b]=s.useState(""),D=s.useRef(null),P=s.useRef(null);s.useEffect(()=>{g&&D.current&&D.current.focus()},[g]),s.useEffect(()=>{r&&P.current&&P.current.focus()},[r]);const W=s.useRef(null);s.useEffect(()=>{X()},[d,u,x,O,w,k,n]);async function I(h){var L;i(""),o("");const j=(L=h.target.files)==null?void 0:L[0];if(j){if(!j.name.toLowerCase().endsWith(".pdf")){i("File harus PDF.");return}if(j.size>50*1024*1024){i("Ukuran file terlalu besar (maks 50MB).");return}y(j),b(pe(j,"_watermarked"))}}async function $(h){var A;i(""),o("");const j=(A=h.target.files)==null?void 0:A[0];if(!j)return;m(j);const L=new FileReader;L.onload=()=>f(L.result),L.readAsDataURL(j)}function G(h,j,L){h.clearRect(0,0,j,L),h.save(),h.globalAlpha=Number(x),h.translate(j/2,L/2),h.rotate(O*Math.PI/180);const A=Number(w)||1;if(n==="text"){h.font=`${48*A}px sans-serif`;try{const K=getComputedStyle(document.documentElement);h.fillStyle=K.getPropertyValue("--muted")||"#444"}catch{h.fillStyle="#444"}if(h.textAlign="center",h.textBaseline="middle",k){const K=300*A,J=200*A;for(let Y=-L;Y<L*2;Y+=J)for(let ae=-j;ae<j*2;ae+=K)h.save(),h.translate(ae,Y),h.fillText(d,0,0),h.restore()}else h.fillText(d,0,0)}else if(n==="image"&&u){const K=new Image;K.src=u,K.onload=()=>{const J=K.naturalWidth*A,Y=K.naturalHeight*A;if(k){const ae=J+60,re=Y+60;for(let oe=-L;oe<L*2;oe+=re)for(let z=-j;z<j*2;z+=ae)h.drawImage(K,z,oe,J,Y)}else h.drawImage(K,-J/2,-Y/2,J,Y)}}h.restore()}function X(){const h=W.current;if(!h)return;const j=h.getContext("2d"),L=h.width,A=h.height;try{const K=getComputedStyle(document.documentElement);j.fillStyle=K.getPropertyValue("--paper")||"#fff",j.strokeStyle=K.getPropertyValue("--border")||"#ddd"}catch{j.fillStyle="#fff",j.strokeStyle="#ddd"}j.fillRect(0,0,L,A),j.strokeRect(10,10,L-20,A-20),j.save(),j.translate(L/2,A/2),G(j,L,A),j.restore()}async function _(){if(!a){i("Pilih file PDF terlebih dahulu.");return}i(""),o(""),F(!0);try{const h=await a.arrayBuffer(),j=await ie.load(h),L=j.getPages();let A=null,K=null,J=!1;n==="image"&&c&&(A=await c.arrayBuffer(),J=(c.type||"").toLowerCase().includes("png"),J?K=await j.embedPng(A):K=await j.embedJpg(A));for(const z of L){const{width:q,height:Q}=z.getSize();if(n==="text"){const Z=48*Number(w||1);if(k){const T=300*Number(w||1),U=200*Number(w||1);for(let H=-U;H<Q+U;H+=U)for(let V=-T;V<q+T;V+=T)z.drawText(d,{x:V+T/2,y:H+U/2,size:Z,color:me(.4,.4,.4),opacity:Number(x)})}else z.drawText(d,{x:q/2-d.length*Z*.12,y:Q/2,size:Z,color:me(.4,.4,.4),opacity:Number(x)})}else if(n==="image"&&K){const Z=K.width*Number(w||1),T=K.height*Number(w||1);if(k){const U=Z+40,H=T+40;for(let V=-H;V<Q+H;V+=H)for(let ee=-U;ee<q+U;ee+=U)z.drawImage(K,{x:ee,y:V,width:Z,height:T,opacity:Number(x)})}else z.drawImage(K,{x:q/2-Z/2,y:Q/2-T/2,width:Z,height:T,opacity:Number(x)})}}const Y=await j.save(),ae=new Blob([Y],{type:"application/pdf"}),re=URL.createObjectURL(ae),oe=document.createElement("a");oe.href=re,oe.download=le(l,a.name.replace(/\.pdf$/i,"")+"_watermarked"),oe.click(),URL.revokeObjectURL(re),o("Berhasil! Watermark berhasil diterapkan dan diunduh.")}catch(h){console.error(h),i("Gagal: "+(h.message||h))}finally{F(!1)}}async function N(h,j){try{if(n==="image"&&!c)throw new Error("Please upload a watermark image first.");j(10);const L=await h.arrayBuffer();j(30);const A=await ie.load(L),K=A.getPages();j(50);let J=null,Y=null,ae=!1;n==="image"&&c&&(J=await c.arrayBuffer(),ae=(c.type||"").toLowerCase().includes("png"),ae?Y=await A.embedPng(J):Y=await A.embedJpg(J)),j(60);for(let z=0;z<K.length;z++){const q=K[z],{width:Q,height:Z}=q.getSize();if(n==="text"){const T=48*Number(w||1);if(k){const U=300*Number(w||1),H=200*Number(w||1);for(let V=-H;V<Z+H;V+=H)for(let ee=-U;ee<Q+U;ee+=U)q.drawText(d,{x:ee+U/2,y:V+H/2,size:T,color:me(.4,.4,.4),opacity:Number(x)})}else q.drawText(d,{x:Q/2-d.length*T*.12,y:Z/2,size:T,color:me(.4,.4,.4),opacity:Number(x)})}else if(n==="image"&&Y){const T=Y.width*Number(w||1),U=Y.height*Number(w||1);if(k){const H=T+40,V=U+40;for(let ee=-V;ee<Z+V;ee+=V)for(let se=-H;se<Q+H;se+=H)q.drawImage(Y,{x:se,y:ee,width:T,height:U,opacity:Number(x)})}else q.drawImage(Y,{x:Q/2-T/2,y:Z/2-U/2,width:T,height:U,opacity:Number(x)})}j(60+z/K.length*30)}j(90);const re=await A.save(),oe=new Blob([re],{type:"application/pdf"});return j(100),oe}catch(L){throw new Error(`Failed to watermark PDF: ${L.message||L}`)}}return e.jsxs("div",{style:{maxWidth:520,margin:"0 auto",padding:12},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:16},children:"Watermark PDF"}),e.jsxs("div",{style:{display:"flex",gap:8,marginBottom:16,borderBottom:"2px solid var(--border)",paddingBottom:8},children:[e.jsx("button",{onClick:()=>v(!1),disabled:p,style:{padding:"8px 16px",backgroundColor:t?"transparent":"var(--primary)",color:t?"var(--text)":"white",border:t?"1px solid var(--border)":"none",borderRadius:4,cursor:"pointer",fontWeight:t?"normal":"bold"},children:"ðŸ“„ Single File"}),e.jsx("button",{onClick:()=>v(!0),disabled:p,style:{padding:"8px 16px",backgroundColor:t?"var(--primary)":"transparent",color:t?"white":"var(--text)",border:t?"none":"1px solid var(--border)",borderRadius:4,cursor:"pointer",fontWeight:t?"bold":"normal"},children:"ðŸ“š Batch Process"})]}),g&&e.jsx("div",{ref:D,tabIndex:-1,"aria-live":"assertive",style:{color:"#dc2626",marginBottom:8,background:"#fee2e2",padding:8,borderRadius:6,outline:"none"},children:g}),r&&e.jsx("div",{ref:P,tabIndex:-1,"aria-live":"polite",style:{color:"#059669",marginBottom:8,background:"#d1fae5",padding:8,borderRadius:6,outline:"none"},children:r}),t?e.jsxs("div",{children:[e.jsxs("div",{style:{marginTop:12,display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("input",{type:"radio",name:"mode",value:"text",checked:n==="text",onChange:()=>E("text"),disabled:p})," Text"]}),e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("input",{type:"radio",name:"mode",value:"image",checked:n==="image",onChange:()=>E("image"),disabled:p})," Image"]}),n==="image"&&e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:["Image: ",e.jsx("input",{type:"file",accept:"image/*",onChange:$,disabled:p})]})]}),n==="text"&&e.jsx("div",{style:{marginTop:8},children:e.jsx("input",{value:d,onChange:h=>S(h.target.value),style:{width:"60%"},disabled:p,placeholder:"Watermark text"})}),e.jsxs("div",{style:{marginTop:8,display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:["Opacity",e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:x,onChange:h=>R(Number(h.target.value)),disabled:p}),e.jsxs("div",{style:{width:48,textAlign:"right"},children:[Math.round(x*100),"%"]})]}),e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:["Scale",e.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.05",value:w,onChange:h=>B(Number(h.target.value)),disabled:p}),e.jsxs("div",{style:{width:48,textAlign:"right"},children:[w.toFixed(2),"x"]})]}),e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("input",{type:"checkbox",checked:k,onChange:h=>C(h.target.checked),disabled:p})," Tiling"]})]}),e.jsxs("div",{style:{marginTop:12,padding:12,border:"1px solid var(--border)",borderRadius:4,background:"var(--paper)"},children:[e.jsx("strong",{children:"Watermark Settings:"}),e.jsxs("ul",{style:{marginTop:8,marginBottom:0,paddingLeft:20},children:[e.jsxs("li",{children:["Mode: ",n==="text"?`Text ("${d}")`:"Image"]}),e.jsxs("li",{children:["Opacity: ",Math.round(x*100),"%"]}),e.jsxs("li",{children:["Scale: ",w.toFixed(2),"x"]}),e.jsxs("li",{children:["Tiling: ",k?"Yes":"No"]})]})]}),e.jsx(ue,{processFile:N,outputFilenameSuffix:"_watermarked",acceptedFileTypes:"application/pdf",description:"Apply watermark to multiple PDFs"})]}):e.jsxs("div",{children:[p&&e.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{className:"loader",style:{display:"inline-block",width:24,height:24,border:"3px solid #3b82f6",borderTop:"3px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite",verticalAlign:"middle"}})," ",e.jsx("span",{children:"Memproses, mohon tunggu..."})]}),e.jsxs("div",{style:{marginBottom:8,background:"#f9fafb",borderRadius:8,padding:8,boxShadow:"0 1px 4px #0001"},children:[e.jsx("input",{type:"file",accept:"application/pdf",onChange:I,disabled:p}),a&&e.jsxs("div",{style:{marginTop:8},children:[e.jsx("div",{style:{fontWeight:500,color:"#3b82f6",wordBreak:"break-all"},children:a.name}),e.jsxs("div",{style:{color:"#888",fontSize:13},children:[(a.size/1024).toFixed(1)," KB â€¢ ",a.lastModified?new Date(a.lastModified).toLocaleString():""]})]})]}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("input",{type:"radio",name:"mode",value:"text",checked:n==="text",onChange:()=>E("text"),disabled:p})," Text"]}),e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("input",{type:"radio",name:"mode",value:"image",checked:n==="image",onChange:()=>E("image"),disabled:p})," Image"]}),n==="image"&&e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:["Image: ",e.jsx("input",{type:"file",accept:"image/*",onChange:$,disabled:p})]})]}),n==="text"&&e.jsx("div",{style:{marginTop:8},children:e.jsx("input",{value:d,onChange:h=>S(h.target.value),style:{width:"60%"},disabled:p})}),e.jsxs("div",{style:{marginTop:8,display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:["Opacity",e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:x,onChange:h=>R(Number(h.target.value)),disabled:p}),e.jsxs("div",{style:{width:48,textAlign:"right"},children:[Math.round(x*100),"%"]})]}),e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:["Rotation",e.jsx("input",{type:"number",value:O,onChange:h=>M(Number(h.target.value)),style:{width:80},disabled:p})]}),e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:["Scale",e.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.05",value:w,onChange:h=>B(Number(h.target.value)),disabled:p}),e.jsxs("div",{style:{width:48,textAlign:"right"},children:[w.toFixed(2),"x"]})]}),e.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("input",{type:"checkbox",checked:k,onChange:h=>C(h.target.checked),disabled:p})," Tiling"]})]}),e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{className:"muted",children:"Preview"}),e.jsx("canvas",{"aria-label":"Watermark preview",ref:W,width:600,height:800,style:{width:"100%",maxWidth:600,display:"block",border:"1px solid var(--border)",background:"var(--paper)"}})]}),a&&e.jsx(ce,{value:l,onChange:h=>b(h.target.value),disabled:p,placeholder:"watermarked"}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,flexWrap:"wrap"},children:[e.jsx("button",{className:"btn-primary",onClick:_,disabled:p||!a,children:p?"Working...":"Apply Watermark"}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626",marginLeft:"auto"},onClick:()=>{y(null),m(null),f(null),b(""),i(""),o("")},disabled:p||!a,children:"Reset"})]})]})]})}function dt(t){const v=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(v),y=new Worker(a,{type:"module"});return y._blobUrl=a,y}function Ne(t){if(t){try{t.terminate()}catch{}if(t._blobUrl){try{URL.revokeObjectURL(t._blobUrl)}catch{}t._blobUrl=null}}}const ut=`
self._aborted = false
self.onmessage = async (ev) => {
  const msg = ev.data
  if (!msg) return
  if (msg.cmd === "abort") { self._aborted = true; self.postMessage({ type: "cancelled" }); return }
  if (msg.cmd === "start") {
    self._aborted = false
    const files = msg.files || []
    const watermark = msg.watermark || "CONFIDENTIAL"
    try {
      const PDFLib = await import('pdf-lib')
      const JSZip = (await import('jszip')).default
      const zip = new JSZip()
      let totalPages = 0
      const pageCounts = []
      for (let i = 0; i < files.length; i++) {
        const f = files[i]
        try {
          if (!f.buffer) { pageCounts.push(0); continue }
          const arr = f.buffer instanceof ArrayBuffer ? f.buffer : f.buffer.buffer
          const pdfDoc = await PDFLib.PDFDocument.load(arr)
          const pages = pdfDoc.getPages()
          pageCounts.push(pages.length)
          totalPages += pages.length
        } catch (e) { pageCounts.push(0) }
      }
      let processed = 0
      for (let fi = 0; fi < files.length; fi++) {
        if (self._aborted) { self.postMessage({ type: "cancelled" }); return }
        const f = files[fi]
        try {
          self.postMessage({ type: "progress", percent: Math.round((processed / Math.max(1, totalPages)) * 100), message: "Starting " + f.name, fileIndex: fi, filePercent: 0 })
          if (!f.buffer) { self.postMessage({ type: "file-done", fileIndex: fi }); continue }
          const arr = f.buffer instanceof ArrayBuffer ? f.buffer : f.buffer.buffer
          const pdfDoc = await PDFLib.PDFDocument.load(arr)
          const pages = pdfDoc.getPages()
          for (let pi = 0; pi < pages.length; pi++) {
            if (self._aborted) { self.postMessage({ type: "cancelled" }); return }
            const page = pages[pi]
            const { width, height } = page.getSize()
            page.drawText(watermark, {
              x: width / 2 - 100,
              y: height / 2,
              size: 48,
              color: PDFLib.rgb ? PDFLib.rgb(0.8, 0.1, 0.1) : PDFLib.rgb(0.8, 0.1, 0.1),
              rotate: PDFLib.degrees ? PDFLib.degrees(-45) : PDFLib.degrees(-45),
              opacity: 0.25,
            })
            processed += 1
            const percent = totalPages > 0 ? Math.round((processed / totalPages) * 100) : 0
            const filePercent = pages.length > 0 ? Math.round(((pi+1) / pages.length) * 100) : 0
            self.postMessage({ type: "progress", percent: percent, message: "Processing " + f.name + " (" + (pi+1) + "/" + pages.length + ")", fileIndex: fi, filePercent: filePercent })
          }
          const out = await pdfDoc.save()
          zip.file(f.name.replace(/\\.pdf$/i, '') + '-watermarked.pdf', out)
          self.postMessage({ type: "file-done", fileIndex: fi })
        } catch (err) {
          self.postMessage({ type: "progress", percent: Math.round((processed / Math.max(1, totalPages)) * 100), message: "Error processing " + f.name, fileIndex: fi, filePercent: 0 })
        }
      }
      const blob = await zip.generateAsync({ type: 'blob' })
      const arrayBuffer = await blob.arrayBuffer()
      self.postMessage({ type: 'result', buffer: arrayBuffer }, [arrayBuffer])
    } catch (err) {
      self.postMessage({ type: 'error', error: String(err) })
    }
  }
}
`;function pt(){const[t,v]=s.useState([]),[a,y]=s.useState("CONFIDENTIAL"),[n,E]=s.useState(!1),d=s.useRef({aborted:!1}),S=s.useRef(null),[x,R]=s.useState([]),[O,M]=s.useState("watermarked-files");s.useEffect(()=>()=>{if(S.current){try{S.current.terminate()}catch{}S.current=null}},[]);const w=k=>{const C=Array.from(k.target.files||[]);v(C),R(C.map(c=>({name:c.name,status:"pending",percent:0})))},B=async()=>{if(!t.length)return;E(!0),d.current.aborted=!1;const k=[];for(const c of t)try{const m=await c.arrayBuffer();k.push({name:c.name,buffer:m})}catch{k.push({name:c.name,buffer:null})}let C=!1;try{const c=dt(ut);S.current=c,C=!0,c.onmessage=u=>{const f=u.data;if(f)if(f.type==="progress"){const{percent:p,message:F,fileIndex:g,filePercent:i}=f;window.dispatchEvent(new CustomEvent("pdf-progress",{detail:{percent:p,message:F}})),typeof g=="number"&&R(r=>{const o=r.slice();return o[g]={...o[g]||{},status:"processing",percent:i},o})}else if(f.type==="file-done"){const{fileIndex:p}=f;R(F=>{const g=F.slice();return g[p]={...g[p]||{},status:"done",percent:100},g})}else if(f.type==="result"){const{buffer:p}=f,F=new Blob([p],{type:"application/zip"}),g=URL.createObjectURL(F),i=document.createElement("a");i.href=g,i.download=le(O,"watermarked-files",".zip"),document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(g),E(!1),window.dispatchEvent(new CustomEvent("pdf-progress",{detail:{end:!0,message:"Complete"}})),Ne(S.current),S.current=null}else f.type==="error"?(console.error("Worker error",f.error),E(!1),window.dispatchEvent(new CustomEvent("pdf-progress",{detail:{end:!0,message:"Error"}})),Ne(S.current),S.current=null):f.type==="cancelled"&&(E(!1),window.dispatchEvent(new CustomEvent("pdf-progress",{detail:{end:!0,message:"Cancelled"}})),Ne(S.current),S.current=null)};const m=k.reduce((u,f)=>(f.buffer&&u.push(f.buffer),u),[]);c.postMessage({cmd:"start",files:k,watermark:a},m)}catch(c){console.warn("Worker not available, falling back to in-thread processing",c),C=!1}if(!C)try{const{PDFDocument:c,rgb:m,degrees:u}=await de(async()=>{const{PDFDocument:P,rgb:W,degrees:I}=await import("./vendor_pdf_lib-HBj0vpGH.js");return{PDFDocument:P,rgb:W,degrees:I}},__vite__mapDeps([5,1,0])),f=(await de(async()=>{const{default:P}=await import("./vendor_jszip-CPzOg1c2.js").then(W=>W.j);return{default:P}},__vite__mapDeps([0,1]))).default,p=new f;let F=0;const g=[];for(const P of t)try{const W=await P.arrayBuffer(),$=(await c.load(W)).getPages();g.push($.length),F+=$.length}catch(W){console.warn("Could not read file for page count",P.name,W),g.push(0)}window.dispatchEvent(new CustomEvent("pdf-progress",{detail:{percent:0,message:"Starting batch watermark",indeterminate:!1}}));let i=0,r=null;const o=P=>{const W=Date.now(),I=()=>{window.dispatchEvent(new CustomEvent("pdf-progress",{detail:P})),i=Date.now()},$=W-i;$>=200||P.percent===100?(r&&(clearTimeout(r),r=null),I()):(r&&clearTimeout(r),r=setTimeout(()=>{I(),r=null},200-$))};for(let P=0;P<t.length&&!d.current.aborted;P++){const W=t[P];try{R(_=>{const N=_.slice();return N[P]={...N[P]||{},status:"processing",percent:0},N});const I=await W.arrayBuffer();if(d.current.aborted)break;const $=await c.load(I),G=$.getPages();for(let _=0;_<G.length&&!d.current.aborted;_++){const N=G[_],{width:h,height:j}=N.getSize();N.drawText(a,{x:h/2-100,y:j/2,size:48,color:m(.8,.1,.1),rotate:u(-45),opacity:.25});try{const L=g.slice(0,P).reduce((J,Y)=>J+Y,0)+(_+1),A=F>0?Math.round(L/F*100):0;o({percent:A,message:`Processing ${W.name} (${_+1}/${G.length})`});const K=G.length>0?Math.round((_+1)/G.length*100):0;R(J=>{const Y=J.slice();return Y[P]={...Y[P]||{},percent:K},Y})}catch{}}const X=await $.save();p.file(W.name.replace(/\.pdf$/i,"")+"-watermarked.pdf",X),R(_=>{const N=_.slice();return N[P]={...N[P]||{},status:"done",percent:100},N})}catch(I){console.error("Error watermarking",W.name,I),R($=>{const G=$.slice();return G[P]={...G[P]||{},status:"error",percent:0},G})}}window.dispatchEvent(new CustomEvent("pdf-progress",{detail:{percent:100,message:"Packaging ZIP",indeterminate:!1}}));const l=await p.generateAsync({type:"blob"}),b=URL.createObjectURL(l),D=document.createElement("a");D.href=b,D.download=le(O,"watermarked-files",".zip"),document.body.appendChild(D),D.click(),D.remove(),URL.revokeObjectURL(b),E(!1),window.dispatchEvent(new CustomEvent("pdf-progress",{detail:{end:!0,message:"Complete"}}))}catch(c){console.error("Fallback processing failed",c),E(!1),window.dispatchEvent(new CustomEvent("pdf-progress",{detail:{end:!0,message:"Error"}}))}};return e.jsxs("div",{className:"batch-tool",children:[e.jsx("h2",{children:"Batch Watermark"}),e.jsx("p",{children:"Upload multiple PDFs and apply a text watermark to each page. Results are returned as a ZIP."}),e.jsxs("div",{children:[e.jsx("label",{children:"Watermark text:"}),e.jsx("input",{value:a,onChange:k=>y(k.target.value)})]}),e.jsx("div",{style:{marginTop:8},children:e.jsx("input",{type:"file",accept:"application/pdf",multiple:!0,onChange:w})}),x.length>0&&e.jsxs("div",{className:"batch-file-list",children:[e.jsx("h3",{children:"Files"}),e.jsx("ul",{style:{listStyle:"none",padding:0},children:x.map((k,C)=>e.jsxs("li",{className:"batch-file-item",children:[e.jsxs("div",{className:"batch-file-row",children:[e.jsx("div",{style:{flex:1},children:k.name}),e.jsx("div",{style:{width:120,textAlign:"right",fontSize:12},children:k.status||"pending"})]}),e.jsx("div",{className:"progress-bar-small",style:{marginTop:6},children:e.jsx("div",{className:"progress-fill",style:{width:`${k.percent||0}%`,background:k.status==="error"?"#e53935":void 0}})})]},C))})]}),t.length>0&&e.jsx(ce,{value:O,onChange:k=>M(k.target.value),disabled:n,placeholder:"watermarked-files"}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:8},children:[e.jsx("button",{className:"btn-primary",onClick:B,disabled:n||t.length===0,children:n?"Processing...":"Apply Watermark & Download ZIP"}),e.jsx("button",{className:"btn-cancel",onClick:()=>{if(S.current){try{S.current.postMessage({cmd:"abort"})}catch{}try{S.current.terminate()}catch{}S.current=null}d.current.aborted=!0,E(!1),R(k=>k.map(C=>C.status==="processing"?{...C,status:"pending"}:C)),window.dispatchEvent(new CustomEvent("pdf-progress",{detail:{end:!0,message:"Cancelled"}}))},disabled:!n,children:"Cancel"})]}),e.jsxs("div",{style:{marginTop:12},children:[e.jsx("strong",{children:t.length})," file(s) selected"]})]})}function ft(){const[t,v]=s.useState(null),[a,y]=s.useState(null),[n,E]=s.useState(!1),[d,S]=s.useState(""),[x,R]=s.useState(""),O=s.useRef(null),M=s.useRef(null);s.useEffect(()=>{d&&O.current&&O.current.focus()},[d]),s.useEffect(()=>{x&&M.current&&M.current.focus()},[x]);const w=async B=>{var C;S(""),R(""),y(null);const k=(C=B.target.files)==null?void 0:C[0];if(k){v(k),E(!0);try{const{PDFDocument:c}=await de(async()=>{const{PDFDocument:l}=await import("./vendor_pdf_lib-HBj0vpGH.js");return{PDFDocument:l}},__vite__mapDeps([5,1,0])),m=await k.arrayBuffer(),u=await c.load(m),f=u.getTitle()||"No title",p=u.getAuthor()||"Unknown author",F=u.getSubject()||"No subject",g=u.getCreator()||"Unknown creator",i=u.getProducer()||"Unknown producer",r=u.getCreationDate(),o=u.getModificationDate();y({pages:u.getPageCount(),title:f,author:p,subject:F,creator:g,producer:i,creationDate:r?r.toISOString():"Unknown",modificationDate:o?o.toISOString():"Unknown",fileSize:k.size,fileName:k.name}),R("Berhasil membaca info PDF.")}catch(c){S("Gagal membaca PDF: "+(c.message||c)),y({error:"Could not read PDF"}),console.error("Error reading PDF",c)}E(!1)}};return e.jsxs("div",{style:{maxWidth:520,margin:"0 auto",padding:12},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:16},children:"PDF Info"}),e.jsx("p",{children:"Upload a PDF to view basic information (page count, metadata)."}),d&&e.jsx("div",{ref:O,tabIndex:-1,"aria-live":"assertive",style:{color:"#dc2626",marginBottom:8,background:"#fee2e2",padding:8,borderRadius:6,outline:"none"},children:d}),x&&e.jsx("div",{ref:M,tabIndex:-1,"aria-live":"polite",style:{color:"#059669",marginBottom:8,background:"#d1fae5",padding:8,borderRadius:6,outline:"none"},children:x}),n&&e.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{className:"loader",style:{display:"inline-block",width:24,height:24,border:"3px solid #3b82f6",borderTop:"3px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite",verticalAlign:"middle"}})," ",e.jsx("span",{children:"Memproses, mohon tunggu..."})]}),e.jsx("input",{type:"file",accept:"application/pdf",onChange:w,disabled:n}),t&&e.jsx("div",{className:"file-list",style:{margin:"16px 0"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,background:"#f9fafb",borderRadius:8,marginBottom:8,padding:8,opacity:n?.7:1},children:[e.jsx("div",{style:{minWidth:120,maxWidth:180,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:500},children:t.name}),e.jsxs("div",{style:{color:"#888",fontSize:13},children:[(t.size/1024).toFixed(1)," KB"]}),e.jsx("button",{className:"btn",onClick:()=>{v(null),y(null),S(""),R("")},disabled:n,children:"Remove"})]})}),a&&e.jsx("div",{style:{marginTop:16,background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:12,padding:16},children:a.error?e.jsx("div",{style:{color:"#dc2626",fontWeight:500},children:a.error}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsx("h3",{style:{margin:0,fontSize:18,fontWeight:600,color:"#1f2937",borderBottom:"2px solid #e5e7eb",paddingBottom:8},children:"ðŸ“„ PDF Information"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr",gap:8,fontSize:14},children:[e.jsx("div",{style:{fontWeight:600,color:"#6b7280"},children:"File Name:"}),e.jsx("div",{style:{color:"#1f2937",wordBreak:"break-word"},children:a.fileName}),e.jsx("div",{style:{fontWeight:600,color:"#6b7280"},children:"File Size:"}),e.jsxs("div",{style:{color:"#1f2937"},children:[(a.fileSize/1024).toFixed(2)," KB (",(a.fileSize/(1024*1024)).toFixed(2)," MB)"]}),e.jsx("div",{style:{fontWeight:600,color:"#6b7280"},children:"Total Pages:"}),e.jsx("div",{style:{color:"#1f2937",fontWeight:600},children:a.pages}),e.jsx("div",{style:{fontWeight:600,color:"#6b7280",paddingTop:8,borderTop:"1px solid #e5e7eb"},children:"Title:"}),e.jsx("div",{style:{color:"#1f2937",paddingTop:8,borderTop:"1px solid #e5e7eb"},children:a.title}),e.jsx("div",{style:{fontWeight:600,color:"#6b7280"},children:"Author:"}),e.jsx("div",{style:{color:"#1f2937"},children:a.author}),e.jsx("div",{style:{fontWeight:600,color:"#6b7280"},children:"Subject:"}),e.jsx("div",{style:{color:"#1f2937"},children:a.subject}),e.jsx("div",{style:{fontWeight:600,color:"#6b7280"},children:"Creator:"}),e.jsx("div",{style:{color:"#1f2937"},children:a.creator}),e.jsx("div",{style:{fontWeight:600,color:"#6b7280"},children:"Producer:"}),e.jsx("div",{style:{color:"#1f2937"},children:a.producer}),e.jsx("div",{style:{fontWeight:600,color:"#6b7280",paddingTop:8,borderTop:"1px solid #e5e7eb"},children:"Created:"}),e.jsx("div",{style:{color:"#1f2937",paddingTop:8,borderTop:"1px solid #e5e7eb",fontSize:13},children:a.creationDate==="Unknown"?"Unknown":new Date(a.creationDate).toLocaleString("id-ID")}),e.jsx("div",{style:{fontWeight:600,color:"#6b7280"},children:"Modified:"}),e.jsx("div",{style:{color:"#1f2937",fontSize:13},children:a.modificationDate==="Unknown"?"Unknown":new Date(a.modificationDate).toLocaleString("id-ID")})]})]})}),e.jsx("div",{style:{marginTop:12,display:"flex",gap:8,flexWrap:"wrap"},children:e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626",marginLeft:"auto"},onClick:()=>{v(null),y(null),S(""),R("")},disabled:n||!t,children:"Reset"})})]})}function gt(){const[t,v]=s.useState(!0),[a,y]=s.useState([]),[n,E]=s.useState(!1),[d,S]=s.useState(""),[x,R]=s.useState(""),[O,M]=s.useState("extracted-images"),w=React.useRef(null),B=React.useRef(null);React.useEffect(()=>{d&&w.current&&w.current.focus()},[d]),React.useEffect(()=>{x&&B.current&&B.current.focus()},[x]);const k=m=>{S(""),R(""),y(Array.from(m.target.files||[]))},C=async()=>{if(!a.length){S("Pilih file PDF terlebih dahulu.");return}S(""),R(""),E(!0);try{const{PDFDocument:m}=await de(async()=>{const{PDFDocument:i}=await import("./vendor_pdf_lib-HBj0vpGH.js");return{PDFDocument:i}},__vite__mapDeps([5,1,0])),u=(await de(async()=>{const{default:i}=await import("./vendor_jszip-CPzOg1c2.js").then(r=>r.j);return{default:i}},__vite__mapDeps([0,1]))).default,f=new u;for(const i of a)try{const r=await i.arrayBuffer(),l=await(await m.load(r)).save();f.file(i.name.replace(/\.pdf$/i,"")+"-original.pdf",l)}catch(r){S("Gagal ekstrak gambar dari "+i.name),console.error("Error extracting images",r)}const p=await f.generateAsync({type:"blob"}),F=URL.createObjectURL(p),g=document.createElement("a");g.href=F,g.download=le(O,"extracted-images",".zip"),document.body.appendChild(g),g.click(),g.remove(),URL.revokeObjectURL(F),R("Berhasil! File ZIP berhasil diunduh.")}catch(m){S("Gagal: "+(m.message||m)),console.error(m)}finally{E(!1)}};async function c(m,u){try{u(10);const f=await de(()=>import("./vendor_pdfjs-DCADuy2C.js").then(l=>l.p),__vite__mapDeps([6,1,0]));try{f.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${f.version}/pdf.worker.min.js`}catch{}u(20);const p=await m.arrayBuffer(),g=await f.getDocument({data:p}).promise;u(40);const i=(await de(async()=>{const{default:l}=await import("./vendor_jszip-CPzOg1c2.js").then(b=>b.j);return{default:l}},__vite__mapDeps([0,1]))).default,r=new i;for(let l=1;l<=g.numPages;l++){const b=await g.getPage(l),D=await b.getOperatorList();let P=0;for(let W=0;W<D.fnArray.length;W++)if(D.fnArray[W]===f.OPS.paintImageXObject||D.fnArray[W]===f.OPS.paintJpegXObject)try{const I=D.argsArray[W][0],$=b.objs.get(I);if($&&$.data){const G=document.createElement("canvas");G.width=$.width,G.height=$.height;const X=G.getContext("2d"),_=new ImageData(new Uint8ClampedArray($.data),$.width,$.height);X.putImageData(_,0,0);const N=await new Promise(h=>G.toBlob(h,"image/png"));r.file(`page${l}_img${P}.png`,N),P++}}catch(I){console.warn("Failed to extract image:",I)}u(40+l/g.numPages*50)}u(90),Object.keys(r.files).length===0&&r.file("no-images-found.txt",`No images were found in ${m.name}`);const o=await r.generateAsync({type:"blob"});return u(100),o}catch(f){throw new Error(`Failed to extract images: ${f.message||f}`)}}return e.jsxs("div",{style:{maxWidth:520,margin:"0 auto",padding:12},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:16},children:"Extract Images"}),e.jsx("p",{children:"Upload PDFs and extract images."}),e.jsxs("div",{style:{display:"flex",gap:8,marginBottom:16,borderBottom:"2px solid var(--border)",paddingBottom:8},children:[e.jsx("button",{onClick:()=>v(!1),disabled:n,style:{padding:"8px 16px",backgroundColor:t?"transparent":"var(--primary)",color:t?"var(--text)":"white",border:t?"1px solid var(--border)":"none",borderRadius:4,cursor:"pointer",fontWeight:t?"normal":"bold"},children:"ðŸ“„ Single File"}),e.jsx("button",{onClick:()=>v(!0),disabled:n,style:{padding:"8px 16px",backgroundColor:t?"var(--primary)":"transparent",color:t?"white":"var(--text)",border:t?"none":"1px solid var(--border)",borderRadius:4,cursor:"pointer",fontWeight:t?"bold":"normal"},children:"ðŸ“š Batch Process"})]}),d&&e.jsx("div",{ref:w,tabIndex:-1,"aria-live":"assertive",style:{color:"#dc2626",marginBottom:8,background:"#fee2e2",padding:8,borderRadius:6,outline:"none"},children:d}),x&&e.jsx("div",{ref:B,tabIndex:-1,"aria-live":"polite",style:{color:"#059669",marginBottom:8,background:"#d1fae5",padding:8,borderRadius:6,outline:"none"},children:x}),t?e.jsxs("div",{children:[e.jsx("p",{style:{marginBottom:16,padding:12,background:"var(--paper)",border:"1px solid var(--border)",borderRadius:4},children:"In batch mode, each PDF's extracted images will be saved as a separate ZIP file. Images are extracted from all pages."}),e.jsx(ue,{processFile:c,outputFilenameSuffix:"_images",acceptedFileTypes:"application/pdf",description:"Extract images from multiple PDFs",outputFileExtension:".zip"})]}):e.jsxs("div",{children:[n&&e.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{className:"loader",style:{display:"inline-block",width:24,height:24,border:"3px solid #3b82f6",borderTop:"3px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite",verticalAlign:"middle"}})," ",e.jsx("span",{children:"Memproses, mohon tunggu..."})]}),e.jsx("input",{type:"file",accept:"application/pdf",multiple:!0,onChange:k,disabled:n}),e.jsx("div",{className:"file-list",style:{margin:"16px 0"},children:a.map((m,u)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,background:"#f9fafb",borderRadius:8,marginBottom:8,padding:8,opacity:n?.7:1},children:[e.jsx("div",{style:{minWidth:120,maxWidth:180,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:500},children:m.name}),e.jsxs("div",{style:{color:"#888",fontSize:13},children:[(m.size/1024).toFixed(1)," KB"]}),e.jsx("button",{className:"btn",onClick:()=>y(f=>f.filter((p,F)=>F!==u)),disabled:n,children:"Remove"})]},u))}),a.length>0&&e.jsx(ce,{value:O,onChange:m=>M(m.target.value),disabled:n,placeholder:"extracted-images"}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,flexWrap:"wrap"},children:[e.jsx("button",{className:"btn-primary",onClick:C,disabled:n||a.length===0,children:n?"Working...":"Extract & Download"}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626",marginLeft:"auto"},onClick:()=>{y([]),S(""),R("")},disabled:n||a.length===0,children:"Reset"})]})]})]})}function mt(){const[t,v]=s.useState(!1),[a,y]=s.useState(null),[n,E]=s.useState(!1),[d,S]=s.useState(!1),[x,R]=s.useState(!1),[O,M]=s.useState(""),[w,B]=s.useState(""),[k,C]=s.useState("");async function c(r){const o=r.target.files[0];if(o){if(M(""),B(""),!o.name.endsWith(".docx")){M("Please select a .docx file.");return}if(o.size>20*1024*1024){M("File too large (max 20MB).");return}y(o),C(pe(o)),B('Document loaded! Click "Convert to PDF" to proceed.')}}function m(r){r.preventDefault(),S(!0)}function u(r){r.preventDefault(),r.dataTransfer.dropEffect="copy"}function f(r){r.preventDefault(),S(!1)}async function p(r){var l,b;r.preventDefault(),S(!1);const o=(b=(l=r.dataTransfer)==null?void 0:l.files)==null?void 0:b[0];o&&(y(o),R(!0),setTimeout(()=>R(!1),1500))}async function F(){if(!a){M("Please select a Word document first.");return}M(""),B(""),E(!0);try{const r=await a.arrayBuffer(),l=(await Te.convertToHtml({arrayBuffer:r})).value,b=document.createElement("div");b.innerHTML=l,b.style.padding="20px",document.body.appendChild(b);const P=(await ke(b,{scale:2})).toDataURL("image/png"),{jsPDF:W}=await de(async()=>{const{jsPDF:_}=await import("./vendor_jspdf-wCtQMdy0.js").then(N=>N.j);return{jsPDF:_}},__vite__mapDeps([2,1,0])),I=new W("p","mm","a4"),$=I.getImageProperties(P),G=210,X=$.height*G/$.width;I.addImage(P,"PNG",0,0,G,X),I.save(le(k,a.name.replace(/\.docx$/i,""))),document.body.removeChild(b),B("Successfully converted Word document to PDF and downloaded!")}catch(r){console.error(r),M("Conversion failed: "+r.message)}finally{E(!1)}}async function g(r,o){try{o(10);const l=await r.arrayBuffer();o(30);const D=(await Te.convertToHtml({arrayBuffer:l})).value;o(50);const P=document.createElement("div");P.innerHTML=D,P.style.padding="20px",P.style.position="absolute",P.style.left="-9999px",document.body.appendChild(P),o(60);const I=(await ke(P,{scale:2})).toDataURL("image/png");o(70);const{jsPDF:$}=await de(async()=>{const{jsPDF:j}=await import("./vendor_jspdf-wCtQMdy0.js").then(L=>L.j);return{jsPDF:j}},__vite__mapDeps([2,1,0])),G=new $("p","mm","a4"),X=G.getImageProperties(I),_=210,N=X.height*_/X.width;G.addImage(I,"PNG",0,0,_,N),o(90);const h=G.output("blob");return document.body.removeChild(P),o(100),h}catch(l){throw new Error(`Failed to convert Word to PDF: ${l.message||l}`)}}function i(){y(null),M(""),B(""),v(!1)}return e.jsxs("div",{children:[e.jsx("h2",{children:"Word (.docx) â†’ PDF"}),e.jsx("p",{className:"muted",children:"Convert Microsoft Word documents to PDF format."}),e.jsxs("div",{style:{display:"flex",gap:8,marginBottom:16,borderBottom:"2px solid var(--border)",paddingBottom:8},children:[e.jsx("button",{onClick:()=>v(!1),disabled:n,style:{padding:"8px 16px",backgroundColor:t?"transparent":"var(--primary)",color:t?"var(--text)":"white",border:t?"1px solid var(--border)":"none",borderRadius:4,cursor:"pointer",fontWeight:t?"normal":"bold"},children:"ðŸ“„ Single File"}),e.jsx("button",{onClick:()=>v(!0),disabled:n,style:{padding:"8px 16px",backgroundColor:t?"var(--primary)":"transparent",color:t?"white":"var(--text)",border:t?"none":"1px solid var(--border)",borderRadius:4,cursor:"pointer",fontWeight:t?"bold":"normal"},children:"ðŸ“š Batch Process"})]}),O&&e.jsxs("div",{className:"error-message",role:"alert",children:["âš ï¸ ",O]}),w&&e.jsxs("div",{className:"success-message",role:"status",children:["âœ… ",w]}),t?e.jsxs("div",{children:[e.jsxs("p",{style:{marginBottom:16,padding:12,background:"var(--paper)",border:"1px solid var(--border)",borderRadius:4},children:[e.jsx("strong",{children:"Batch Mode:"})," Convert multiple Word (.docx) documents to PDF format simultaneously."]}),e.jsx(ue,{processFile:g,outputFilenameSuffix:"",acceptedFileTypes:".docx,application/vnd.openxmlformats-officedocument.wordprocessingml.document",description:"Convert multiple Word documents to PDF",outputFileExtension:".pdf"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:`dropzone ${d?"dragover":""}`,onDragEnter:m,onDragOver:u,onDragLeave:f,onDrop:p,children:[e.jsx("input",{type:"file",accept:".docx,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:c,disabled:n}),e.jsx("div",{className:"muted",children:"Select or drag & drop a .docx file (max 20MB)."}),x&&e.jsx("div",{className:"drop-overlay",children:"âœ“ Uploaded"})]}),a&&e.jsxs("div",{className:"file-info",children:[e.jsx("strong",{children:"ðŸ“„ File:"})," ",a.name," (",(a.size/1024).toFixed(1)," KB)"]}),a&&e.jsx(ce,{value:k,onChange:r=>C(r.target.value),disabled:n,placeholder:"output"}),e.jsxs("div",{style:{marginTop:12,display:"flex",gap:12},children:[e.jsx("button",{className:"btn-primary",onClick:F,disabled:n||!a,children:n?"â³ Converting...":"ðŸ“¥ Convert to PDF"}),e.jsx("button",{className:"btn-ghost",style:{color:"#dc2626"},onClick:i,disabled:n,children:"Reset"})]})]})]})}const ht={pdf2text:Ge,pdf2word:He,merge:Ve,split:qe,imgs2pdf:Ke,pdf2imgs:Ze,annotate:Je,compress:Xe,edit:Qe,ocr:et,pagenums:tt,pdf2ppt:st,ppt2pdf:at,csv2pdf:Ye,reorder:rt,rotate:ot,signature:lt,watermark:ct,"batch-watermark":pt,"pdf-info":ft,"extract-images":gt,word2pdf:mt};function xt({toolId:t,onClose:v}){const[a,y]=s.useState(!1);s.useEffect(()=>{y(!0);const E=d=>{d.key==="Escape"&&v()};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[]);const n=ht[t];return n?e.jsxs("div",{className:`tool-container ${a?"mounted":""}`,children:[e.jsxs("div",{className:"tool-header",children:[e.jsx("button",{onClick:v,className:"close-btn",children:"Ã—"}),e.jsx("h1",{children:t})]}),e.jsx("div",{className:"tool-content",children:e.jsx(n,{})})]}):e.jsxs("div",{className:"tool-container",children:[e.jsxs("div",{className:"tool-header",children:[e.jsx("button",{onClick:v,className:"close-btn",children:"Ã—"}),e.jsx("h1",{children:"Tool Not Found"})]}),e.jsx("div",{className:"tool-content",children:e.jsxs("p",{children:['The requested tool "',t,'" is not available.']})})]})}function bt({image:t,href:v,alt:a="Advertisement",children:y}){const n=t?e.jsx("img",{className:"ad-spot-img",src:t,alt:a}):e.jsx("div",{className:"ad-spot-fallback",children:y||"Your ad here"});return e.jsx("div",{className:"ad-spot",role:"region","aria-label":"Advertisement",children:v?e.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",children:n}):n})}const De="dexpdf:recent",yt=8;function Fe(){try{const t=localStorage.getItem(De);return t?JSON.parse(t):[]}catch(t){return console.error("Failed to read recent files",t),[]}}function vt(t){try{if(!t||!t.id)return;const a=Fe().filter(n=>n.id!==t.id);a.unshift({...t,time:Date.now()});const y=a.slice(0,yt);return localStorage.setItem(De,JSON.stringify(y)),y}catch(v){return console.error("Failed to push recent",v),[]}}function jt(){try{localStorage.removeItem(De)}catch(t){console.error("Failed to clear recent",t)}}function wt({onOpen:t}){const[v,a]=s.useState([]);return s.useEffect(()=>{a(Fe());const y=()=>a(Fe());return window.addEventListener("storage",y),()=>window.removeEventListener("storage",y)},[]),!v||v.length===0?null:e.jsxs("div",{className:"recent-files","aria-live":"polite",children:[e.jsxs("div",{className:"recent-header",children:[e.jsx("strong",{children:"Recent"}),e.jsx("button",{className:"recent-clear",onClick:()=>{jt(),a([])},children:"Clear"})]}),e.jsx("ul",{children:v.map(y=>e.jsx("li",{children:e.jsxs("button",{className:"recent-item",onClick:()=>t(y),children:[e.jsx("span",{className:"recent-name",children:y.name||y.id}),e.jsx("span",{className:"recent-time",children:new Date(y.time).toLocaleString()})]})},y.id))})]})}function kt(){const[t,v]=s.useState(!1),[a,y]=s.useState("idle"),[n,E]=s.useState(""),d=s.useRef(void 0);return s.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]),s.useEffect(()=>{const S=x=>{const R=x.detail||{};if(R&&typeof R=="object"){if(R.end){y("success"),E(R.message||"Done"),d.current=setTimeout(()=>y("idle"),1e3);return}v(!0),y("progress"),R.message&&E(R.message)}};return window.addEventListener("pdf-progress",S),()=>window.removeEventListener("pdf-progress",S)},[]),a==="idle"?null:e.jsx(je,{sx:{position:"fixed",top:8,left:0,right:0,display:"flex",justifyContent:"center",zIndex:1400},children:e.jsxs(je,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(je,{sx:{height:40},children:e.jsx(Me,{in:t,style:{transitionDelay:t?"200ms":"0ms"},unmountOnExit:!0,children:e.jsx(Ae,{})})}),e.jsx(je,{sx:{mt:.5},children:a==="success"?e.jsx(Le,{variant:"caption",children:n||"Success"}):e.jsx(Me,{in:a==="progress",style:{transitionDelay:a==="progress"?"200ms":"0ms"},unmountOnExit:!0,children:e.jsx(Le,{variant:"caption",children:n||"Working..."})})})]})})}function St(){return null}function Ct(){return e.jsx("footer",{style:{borderTop:"1px solid var(--border)",background:"var(--card)",padding:18,marginTop:24},children:e.jsx("div",{style:{maxWidth:1100,margin:"0 auto",color:"var(--muted)"},children:e.jsxs("small",{children:["Â© ",new Date().getFullYear()," DEXPDF lightweight client-side PDF tools"]})})})}const Oe="dexpdf:theme";function Pt({className:t}){const[v,a]=s.useState(()=>{try{return localStorage.getItem(Oe)||"light"}catch{return"light"}});return s.useEffect(()=>{try{localStorage.setItem(Oe,v)}catch{}v==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[v]),e.jsx("button",{"aria-label":"Toggle theme",className:`theme-toggle ${t||""}`,onClick:()=>a(v==="dark"?"light":"dark"),style:{padding:"6px 10px",borderRadius:8,border:"1px solid var(--border)",background:"transparent"},children:v==="dark"?"ðŸŒ™ Dark":"â˜€ï¸ Light"})}function Nt(){const t=[{icon:"ðŸ”’",title:"Privacy First",description:"All processing happens in your browser. Your files never leave your device."},{icon:"âš¡",title:"Lightning Fast",description:"Modern algorithms ensure quick processing, even for large PDFs."},{icon:"ðŸ†“",title:"100% Free",description:"All tools are completely free with no hidden charges or subscriptions."},{icon:"ðŸ“±",title:"Works Everywhere",description:"Use on any device - desktop, tablet, or mobile. No installation needed."},{icon:"ðŸŽ¨",title:"Easy to Use",description:"Simple, intuitive interface that anyone can use without training."},{icon:"ðŸ”„",title:"Always Updated",description:"Regular updates with new features and improvements based on user feedback."}];return e.jsx("section",{className:"features-section",children:e.jsxs("div",{className:"features-container",children:[e.jsxs("div",{className:"features-header",children:[e.jsx("h2",{className:"features-title",children:"Why Choose DexPDF?"}),e.jsx("p",{className:"features-subtitle",children:"Everything you need for PDF management, right in your browser"})]}),e.jsx("div",{className:"features-grid",children:t.map((v,a)=>e.jsxs("div",{className:"feature-card",children:[e.jsx("div",{className:"feature-icon",children:v.icon}),e.jsx("h3",{className:"feature-title",children:v.title}),e.jsx("p",{className:"feature-description",children:v.description})]},a))})]})})}function Ft(){const[t,v]=s.useState(null),a=[{question:"Is DexPDF really free?",answer:"Yes! All tools are 100% free with no hidden charges, subscriptions, or file limits."},{question:"Are my files safe?",answer:"Absolutely. All processing happens in your browser. Your files never leave your device or get uploaded to any server."},{question:"What file formats are supported?",answer:"We support PDF, images (JPG, PNG), Word documents (DOCX), PowerPoint (PPTX), and more formats are added regularly."},{question:"Is there a file size limit?",answer:"No strict limits! However, very large files (100MB+) may take longer to process depending on your device."},{question:"Do I need to create an account?",answer:"No account needed! Just visit the site and start using any tool immediately."},{question:"Can I use DexPDF on mobile?",answer:"Yes! DexPDF works on all modern browsers - desktop, tablet, and mobile devices."}];return e.jsx("section",{className:"faq-section",children:e.jsxs("div",{className:"faq-container",children:[e.jsxs("div",{className:"faq-header",children:[e.jsx("h2",{className:"faq-title",children:"Frequently Asked Questions"}),e.jsx("p",{className:"faq-subtitle",children:"Everything you need to know about DexPDF"})]}),e.jsx("div",{className:"faq-list",children:a.map((y,n)=>e.jsxs("div",{className:"faq-item",children:[e.jsxs("button",{className:`faq-question ${t===n?"active":""}`,onClick:()=>v(t===n?null:n),children:[e.jsx("span",{children:y.question}),e.jsx("svg",{className:`faq-icon ${t===n?"rotate":""}`,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),t===n&&e.jsx("div",{className:"faq-answer",children:y.answer})]},n))})]})})}const ze="dexpdf:ad_consent";function _e(){try{const t=localStorage.getItem(ze);return t?JSON.parse(t):null}catch(t){return console.error("Failed to read consent",t),null}}function Dt(t){try{localStorage.setItem(ze,JSON.stringify(!!t))}catch(v){console.error("Failed to set consent",v)}}function Rt({onChange:t}){const v=y=>{Dt(y),t&&t(y)};return _e()!==null?null:e.jsx("div",{className:"consent-banner",role:"dialog","aria-live":"polite",children:e.jsxs("div",{className:"consent-inner",children:[e.jsx("div",{className:"consent-text",children:'We use ads to support this site. By clicking "Accept" you agree to show non-intrusive ads. You can decline to hide ads.'}),e.jsxs("div",{className:"consent-actions",children:[e.jsx("button",{className:"consent-decline",onClick:()=>v(!1),children:"Decline"}),e.jsx("button",{className:"consent-accept",onClick:()=>v(!0),children:"Accept"})]})]})})}function Bt({tools:t,onSelect:v,onClose:a,isOpen:y}){const[n,E]=s.useState(""),[d,S]=s.useState(0),x=s.useRef(null),R=s.useRef(null),O=t.filter(c=>{var F,g;const m=n.toLowerCase().trim();if(!m)return!0;const u=(F=c.name)==null?void 0:F.toLowerCase().includes(m),f=(g=c.desc)==null?void 0:g.toLowerCase().includes(m),p=Array.isArray(c.tags)&&c.tags.join(" ").toLowerCase().includes(m);return u||f||p}),M=JSON.parse(localStorage.getItem("recent-tools")||"[]"),w=t.filter(c=>M.includes(c.id)),B=n.trim()?O:[...w,...O],k=Array.from(new Map(B.map(c=>[c.id,c])).values()).slice(0,8);s.useEffect(()=>{y&&x.current&&(x.current.focus(),E(""),S(0))},[y]),s.useEffect(()=>{S(0)},[n]),s.useEffect(()=>{if(!y)return;const c=m=>{m.key==="ArrowDown"?(m.preventDefault(),S(u=>Math.min(u+1,k.length-1))):m.key==="ArrowUp"?(m.preventDefault(),S(u=>Math.max(u-1,0))):m.key==="Enter"?(m.preventDefault(),k[d]&&C(k[d])):m.key==="Escape"&&(m.preventDefault(),a())};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[y,d,k]),s.useEffect(()=>{if(R.current){const c=R.current.children[d];c&&c.scrollIntoView({block:"nearest",behavior:"smooth"})}},[d]);const C=c=>{const m=JSON.parse(localStorage.getItem("recent-tools")||"[]"),u=[c.id,...m.filter(f=>f!==c.id)].slice(0,5);localStorage.setItem("recent-tools",JSON.stringify(u)),v(c),a()};return y?e.jsx("div",{className:"command-palette-overlay",onClick:a,children:e.jsxs("div",{className:"command-palette",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"command-palette-header",children:[e.jsx("svg",{className:"command-palette-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:e.jsx("path",{d:"M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM19 19l-4.35-4.35",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("input",{ref:x,type:"text",className:"command-palette-input",placeholder:"Search tools... (try 'merge', 'compress', 'split')",value:n,onChange:c=>E(c.target.value)}),e.jsx("kbd",{className:"command-palette-kbd",children:"ESC"})]}),e.jsx("div",{className:"command-palette-body",ref:R,children:k.length===0?e.jsxs("div",{className:"command-palette-empty",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",children:[e.jsx("circle",{cx:"24",cy:"24",r:"22",stroke:"currentColor",strokeWidth:"2",opacity:"0.3"}),e.jsx("path",{d:"M24 14v12M24 32h.01",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",opacity:"0.5"})]}),e.jsxs("p",{children:['No tools found for "',n,'"']}),e.jsx("p",{className:"command-palette-hint",children:"Try searching for merge, split, compress, or convert"})]}):e.jsxs(e.Fragment,{children:[!n.trim()&&w.length>0&&e.jsx("div",{className:"command-palette-section",children:"Recent"}),k.map((c,m)=>{const u=M.includes(c.id),p={merge:"#DC2626",split:"#2563EB",compress:"#059669","pdf-to-word":"#7C3AED","pdf-to-text":"#EA580C","images-to-pdf":"#DB2777",watermark:"#0891B2","extract-images":"#CA8A04","ppt-to-pdf":"#DC2626","pdf-info":"#4F46E5",reorder:"#16A34A"}[c.id]||"#6B7280";return e.jsxs("div",{className:`command-palette-item ${d===m?"selected":""}`,onClick:()=>C(c),onMouseEnter:()=>S(m),children:[e.jsx("div",{className:"command-palette-item-icon",style:{background:p},children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[e.jsx("rect",{x:"5",y:"3",width:"10",height:"14",rx:"1",stroke:"white",strokeWidth:"1.5"}),e.jsx("path",{d:"M7 7h6M7 10h6M7 13h4",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"})]})}),e.jsxs("div",{className:"command-palette-item-content",children:[e.jsxs("div",{className:"command-palette-item-name",children:[c.name,u&&e.jsx("span",{className:"command-palette-badge",children:"Recent"})]}),e.jsx("div",{className:"command-palette-item-desc",children:c.desc})]}),d===m&&e.jsx("kbd",{className:"command-palette-kbd-enter",children:"â†µ"})]},c.id)})]})}),e.jsx("div",{className:"command-palette-footer",children:e.jsxs("div",{className:"command-palette-shortcuts",children:[e.jsxs("span",{children:[e.jsx("kbd",{children:"â†‘"}),e.jsx("kbd",{children:"â†“"})," Navigate"]}),e.jsxs("span",{children:[e.jsx("kbd",{children:"â†µ"})," Select"]}),e.jsxs("span",{children:[e.jsx("kbd",{children:"ESC"})," Close"]})]})})]})}):null}function Et({isOpen:t,onClose:v}){const[a,y]=s.useState("mac");s.useEffect(()=>{const d=navigator.platform.toUpperCase().indexOf("MAC")>=0;y(d?"mac":"windows")},[]);const n=a==="mac"?"âŒ˜":"Ctrl",E=[{category:"Navigation",items:[{key:"/",description:"Focus search",icon:"ðŸ”"},{key:`${n} + K`,description:"Open command palette",icon:"âš¡"},{key:"?",description:"Show keyboard shortcuts",icon:"âŒ¨ï¸"},{key:"Esc",description:"Close tool or dialog",icon:"âœ•"}]},{category:"File Operations",items:[{key:`${n} + O`,description:"Open file",icon:"ðŸ“‚"},{key:`${n} + S`,description:"Download result",icon:"ðŸ’¾"},{key:`${n} + Z`,description:"Undo (coming soon)",icon:"â†¶",disabled:!0},{key:`${n} + Y`,description:"Redo (coming soon)",icon:"â†·",disabled:!0}]},{category:"Tools",items:[{key:"M",description:"Merge PDFs",icon:"ðŸ”—"},{key:"S",description:"Split PDF",icon:"âœ‚ï¸"},{key:"C",description:"Compress PDF",icon:"ðŸ—œï¸"},{key:"W",description:"Add Watermark",icon:"ðŸ·ï¸"}]},{category:"View",items:[{key:`${n} + D`,description:"Toggle dark mode",icon:"ðŸŒ™"},{key:`${n} + +`,description:"Zoom in (coming soon)",icon:"ðŸ”",disabled:!0},{key:`${n} + -`,description:"Zoom out (coming soon)",icon:"ðŸ”",disabled:!0}]}];return s.useEffect(()=>{if(!t)return;const d=S=>{(S.key==="Escape"||S.key==="?")&&(S.preventDefault(),v())};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[t,v]),t?e.jsx("div",{className:"shortcuts-overlay",onClick:v,children:e.jsxs("div",{className:"shortcuts-panel",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"shortcuts-header",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"shortcuts-title",children:"âŒ¨ï¸ Keyboard Shortcuts"}),e.jsx("p",{className:"shortcuts-subtitle",children:"Boost your productivity with these shortcuts"})]}),e.jsx("button",{className:"shortcuts-close",onClick:v,"aria-label":"Close",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),e.jsx("div",{className:"shortcuts-body",children:E.map((d,S)=>e.jsxs("div",{className:"shortcuts-section",children:[e.jsx("h3",{className:"shortcuts-section-title",children:d.category}),e.jsx("div",{className:"shortcuts-list",children:d.items.map((x,R)=>e.jsxs("div",{className:`shortcuts-item ${x.disabled?"disabled":""}`,children:[e.jsxs("div",{className:"shortcuts-item-left",children:[e.jsx("span",{className:"shortcuts-icon",children:x.icon}),e.jsx("span",{className:"shortcuts-description",children:x.description}),x.disabled&&e.jsx("span",{className:"shortcuts-badge",children:"Soon"})]}),e.jsx("kbd",{className:"shortcuts-kbd",children:x.key})]},R))})]},S))}),e.jsxs("div",{className:"shortcuts-footer",children:[e.jsxs("div",{className:"shortcuts-tip",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[e.jsx("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),e.jsx("path",{d:"M8 7v4M8 5h.01",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),e.jsxs("span",{children:["Press ",e.jsx("kbd",{children:"?"})," anytime to toggle this panel"]})]}),e.jsxs("div",{className:"shortcuts-platform",children:["Platform: ",a==="mac"?"macOS":"Windows"]})]})]})}):null}function Tt(){const[t,v]=s.useState([]),[a,y]=s.useState(null),[n,E]=s.useState(""),[d,S]=s.useState(()=>_e()),x=s.useRef(null),[R,O]=s.useState(!1),[M,w]=s.useState(!1),[B,k]=s.useState(!1);s.useEffect(()=>{const c=m=>{y(m.detail);try{const u=m.detail,f=t.find(p=>p.id===u)||{id:u};vt({id:f.id,name:f.name})}catch{}};return window.addEventListener("open-tool",c),()=>window.removeEventListener("open-tool",c)},[]),s.useEffect(()=>{fetch("/tools.json").then(c=>c.json()).then(c=>v(c)).catch(c=>console.error("Error loading tools:",c))},[]),s.useEffect(()=>{const c=m=>{if(m.key==="/"&&!(document.activeElement&&(document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA"))&&(m.preventDefault(),x.current&&x.current.focus(),O(!0),setTimeout(()=>O(!1),1200)),(m.metaKey||m.ctrlKey)&&m.key==="k"&&(m.preventDefault(),w(!0)),m.key==="?"&&!(document.activeElement&&(document.activeElement.tagName==="INPUT"||document.activeElement.tagName==="TEXTAREA"))&&(m.preventDefault(),k(u=>!u)),(m.metaKey||m.ctrlKey)&&m.key==="d"){m.preventDefault();const u=document.querySelector(".theme-toggle");u&&u.click()}};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[]);const C=s.useMemo(()=>{const c=n.trim().toLowerCase();return c?t.filter(m=>{const u=m.name&&m.name.toLowerCase().includes(c),f=m.desc&&m.desc.toLowerCase().includes(c),p=Array.isArray(m.tags)&&m.tags.join(" ").toLowerCase().includes(c);return u||f||p}):t},[t,n]);return e.jsxs("div",{className:"app",children:[e.jsx(kt,{}),e.jsx(St,{}),e.jsx(Bt,{tools:t,isOpen:M,onClose:()=>w(!1),onSelect:c=>{w(!1),window.dispatchEvent(new CustomEvent("open-tool",{detail:c}))}}),e.jsx(Et,{isOpen:B,onClose:()=>k(!1)}),a?e.jsx(xt,{toolId:a,onClose:()=>{y(null),window.history.pushState({},"","/")}}):e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"hero-header",children:[e.jsx("video",{className:"hero-background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:e.jsx("source",{src:"/assets/city-pop-gradient.mp4",type:"video/mp4"})}),e.jsxs("div",{className:"hero-container",children:[e.jsxs("div",{className:"hero-nav",children:[e.jsx("div",{className:"hero-logo",children:e.jsx("svg",{width:"140",height:"48",viewBox:"0 0 140 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("text",{x:"0",y:"36",fill:"white",fontFamily:"system-ui,-apple-system,sans-serif",fontSize:"32",fontWeight:"bold",children:"DexPDF"})})}),e.jsxs("div",{className:"hero-actions",children:[e.jsx(Pt,{}),e.jsx("a",{href:"https://github.com/dexpie/dexpdf",target:"_blank",rel:"noopener noreferrer",className:"hero-link",children:"GitHub"})]})]}),e.jsxs("div",{className:"hero-content",children:[e.jsx("h1",{className:"hero-title",children:"Complete PDF Toolkit for Modern Productivity"}),e.jsx("p",{className:"hero-subtitle",children:"DexPDF brings powerful PDF tools directly to your browser. Fast, secure, and completely free merge, split, compress, convert, and edit PDFs without uploading files to any server. Privacy-first processing."}),e.jsxs("div",{className:"hero-search",children:[e.jsxs("div",{className:"search-wrapper",children:[e.jsx("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM19 19l-4.35-4.35",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("input",{"aria-label":"Search PDF tools",className:"hero-search-input",placeholder:"Search PDF tools...",ref:x,value:n,onChange:c=>E(c.target.value),onKeyDown:c=>{c.key==="Escape"&&E("")}}),n&&e.jsx("button",{className:"search-clear",onClick:()=>E(""),"aria-label":"Clear search",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 4L4 12M4 4l8 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),R&&e.jsx("div",{className:"hotkey-hint",children:"Press / to search"})]})]})]})]}),e.jsxs("main",{className:"main-content",children:[e.jsxs("div",{className:"tools-container",children:[e.jsx("div",{className:"recent-section",children:e.jsx(wt,{onOpen:c=>{window.dispatchEvent(new CustomEvent("open-tool",{detail:c.id}))}})}),d===!0&&e.jsxs("div",{className:"ads-section",children:[e.jsx("div",{className:"ads-label",children:"Sponsored"}),e.jsx(bt,{image:"/assets/bippy.jpg",href:"https://dexpdf.vercel.app",alt:"Sponsor"})]}),e.jsx(Rt,{onChange:c=>S(c)}),n&&C.length>0&&e.jsx("div",{className:"tools-section-title",children:e.jsxs("h2",{children:["Search Results (",C.length,")"]})}),e.jsx("div",{className:"tools-grid",children:C.length===0?e.jsxs("div",{className:"no-results-card",children:[e.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"32",cy:"32",r:"30",stroke:"#e5e7eb",strokeWidth:"2"}),e.jsx("path",{d:"M32 20v16M32 44h.01",stroke:"#9ca3af",strokeWidth:"3",strokeLinecap:"round"})]}),e.jsx("h3",{children:"No tools found"}),e.jsxs("p",{children:['No tools match "',n,'". Try a different search term.']})]}):C.map(c=>{const m={red:"#DC2626",blue:"#2563EB",green:"#16A34A",gray:"#6B7280",purple:"#7C3AED",orange:"#EA580C",pink:"#DB2777",teal:"#0891B2",indigo:"#4F46E5",yellow:"#CA8A04"},u=m[c.color]||m.gray;return e.jsxs("a",{href:`/?tool=${c.id}`,className:"tool-card",style:{"--tool-color":u},onClick:f=>{f.preventDefault(),window.dispatchEvent(new CustomEvent("open-tool",{detail:c.id}))},children:[e.jsx("div",{className:"tool-icon",style:{background:u},children:e.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{x:"8",y:"4",width:"16",height:"24",rx:"2",stroke:"white",strokeWidth:"2"}),e.jsx("path",{d:"M12 12h8M12 16h8M12 20h5",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})]})}),e.jsx("h3",{className:"tool-name",children:c.name}),e.jsx("p",{className:"tool-desc",children:c.desc})]},c.id)})})]}),e.jsx(Nt,{}),e.jsx(Ft,{})]})]}),e.jsx(Ct,{})]})}$e(document.getElementById("root")).render(e.jsx(ne.StrictMode,{children:e.jsx(Tt,{})}));
