import{r as i,j as t}from"./index-D_qvBJzx.js";import{P as N,S as T,r as B}from"./PDFButton-D8tUxpMY.js";function U(){const[u,b]=i.useState(null),[n,x]=i.useState("bottom-right"),[p,j]=i.useState(1),[d,f]=i.useState(!1);async function y(e){var a;const o=(a=e.target.files)==null?void 0:a[0];o&&b(o)}async function v(){if(!u)return alert("Select a PDF");f(!0);try{const e=await u.arrayBuffer(),o=await N.load(e),a=o.getPages(),S=await o.embedFont(T.Helvetica);for(let s=0;s<a.length;s++){const h=a[s],{width:L,height:m}=h.getSize(),F=String(Number(p)+s),R=12;let l=L-40,c=20;n==="bottom-left"&&(l=20),n==="top-right"&&(c=m-20),n==="top-left"&&(l=20,c=m-20),h.drawText(F,{x:l,y:c,size:R,font:S,color:B(0,0,0)})}const w=await o.save(),P=new Blob([w],{type:"application/pdf"}),g=URL.createObjectURL(P),r=document.createElement("a");r.href=g,r.download="pagenums.pdf",r.click(),URL.revokeObjectURL(g)}catch(e){console.error(e),alert("Failed: "+e.message)}finally{f(!1)}}return t.jsxs("div",{children:[t.jsx("h2",{children:"Page Numbers"}),t.jsx("input",{type:"file",accept:"application/pdf",onChange:y}),t.jsxs("div",{style:{marginTop:8},children:[t.jsx("label",{children:"Position"}),t.jsxs("select",{value:n,onChange:e=>x(e.target.value),children:[t.jsx("option",{value:"bottom-right",children:"Bottom Right"}),t.jsx("option",{value:"bottom-left",children:"Bottom Left"}),t.jsx("option",{value:"top-right",children:"Top Right"}),t.jsx("option",{value:"top-left",children:"Top Left"})]}),t.jsx("label",{style:{marginLeft:8},children:"Start"}),t.jsx("input",{type:"number",value:p,onChange:e=>j(e.target.value),style:{width:80,marginLeft:6}})]}),t.jsx("div",{style:{marginTop:12},children:t.jsx("button",{className:"btn-primary",onClick:v,disabled:d,children:d?"Working...":"Add Page Numbers"})})]})}export{U as default};
